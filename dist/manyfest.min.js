!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Fable=t()}}((function(){return function t(e,r,s){function n(a,o){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(i)return i(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var l=r[a]={exports:{}};e[a][0].call(l.exports,(function(t){return n(e[a][1][t]||t)}),l,l.exports,t,e,r,s)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(t,e,r){!function(t){"use strict";
/*!
   *  decimal.js v10.4.2
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */var r,s,n,i,a=9e15,o=1e9,u="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",c={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},h=!0,d="[DecimalError] ",f=d+"Invalid argument: ",g=d+"Precision limit exceeded",y=d+"crypto unavailable",m="[object Decimal]",b=Math.floor,O=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,S=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,A=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,j=1e7,I=p.length-1,v=l.length-1,x={toStringTag:m};function M(t){var e,r,s,n=t.length-1,i="",a=t[0];if(n>0){for(i+=a,e=1;e<n;e++)(r=7-(s=t[e]+"").length)&&(i+=B(r)),i+=s;(r=7-(s=(a=t[e])+"").length)&&(i+=B(r))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function E(t,e,r){if(t!==~~t||t<e||t>r)throw Error(f+t)}function D(t,e,r,s){var n,i,a,o;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=7,n=0):(n=Math.ceil((e+1)/7),e%=7),i=O(10,7-e),o=t[n]%i|0,null==s?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=r<4&&99999==o||r>3&&49999==o||5e4==o||0==o):a=(r<4&&o+1==i||r>3&&o+1==i/2)&&(t[n+1]/i/100|0)==O(10,e-2)-1||(o==i/2||0==o)&&0==(t[n+1]/i/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(s||r<4)&&9999==o||!s&&r>3&&4999==o):a=((s||r<4)&&o+1==i||!s&&r>3&&o+1==i/2)&&(t[n+1]/i/1e3|0)==O(10,e-3)-1,a}function P(t,e,r){for(var s,n,i=[0],a=0,o=t.length;a<o;){for(n=i.length;n--;)i[n]*=e;for(i[0]+=u.indexOf(t.charAt(a++)),s=0;s<i.length;s++)i[s]>r-1&&(void 0===i[s+1]&&(i[s+1]=0),i[s+1]+=i[s]/r|0,i[s]%=r)}return i.reverse()}x.absoluteValue=x.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),H(t)},x.ceil=function(){return H(new this.constructor(this),this.e+1,2)},x.clampedTo=x.clamp=function(t,e){var r=this,s=r.constructor;if(t=new s(t),e=new s(e),!t.s||!e.s)return new s(NaN);if(t.gt(e))throw Error(f+e);return r.cmp(t)<0?t:r.cmp(e)>0?e:new s(r)},x.comparedTo=x.cmp=function(t){var e,r,s,n,i=this,a=i.d,o=(t=new i.constructor(t)).d,u=i.s,p=t.s;if(!a||!o)return u&&p?u!==p?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-p:0;if(u!==p)return u;if(i.e!==t.e)return i.e>t.e^u<0?1:-1;for(e=0,r=(s=a.length)<(n=o.length)?s:n;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return s===n?0:s>n^u<0?1:-1},x.cosine=x.cos=function(){var t,e,r=this,s=r.constructor;return r.d?r.d[0]?(t=s.precision,e=s.rounding,s.precision=t+Math.max(r.e,r.sd())+7,s.rounding=1,r=function(t,e){var r,s,n;if(e.isZero())return e;(s=e.d.length)<32?n=(1/Z(4,r=Math.ceil(s/3))).toString():(r=16,n="2.3283064365386962890625e-10");t.precision+=r,e=G(t,1,e.times(n),new t(1));for(var i=r;i--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}(s,Q(s,r)),s.precision=t,s.rounding=e,H(2==i||3==i?r.neg():r,t,e,!0)):new s(1):new s(NaN)},x.cubeRoot=x.cbrt=function(){var t,e,r,s,n,i,a,o,u,p,l=this,c=l.constructor;if(!l.isFinite()||l.isZero())return new c(l);for(h=!1,(i=l.s*O(l.s*l,1/3))&&Math.abs(i)!=1/0?s=new c(i.toString()):(r=M(l.d),(i=((t=l.e)-r.length+1)%3)&&(r+=1==i||-2==i?"0":"00"),i=O(r,1/3),t=b((t+1)/3)-(t%3==(t<0?-1:2)),(s=new c(r=i==1/0?"5e"+t:(r=i.toExponential()).slice(0,r.indexOf("e")+1)+t)).s=l.s),a=(t=c.precision)+3;;)if(p=(u=(o=s).times(o).times(o)).plus(l),s=T(p.plus(l).times(o),p.plus(u),a+2,1),M(o.d).slice(0,a)===(r=M(s.d)).slice(0,a)){if("9999"!=(r=r.slice(a-3,a+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(H(s,t+1,1),e=!s.times(s).times(s).eq(l));break}if(!n&&(H(o,t+1,0),o.times(o).times(o).eq(l))){s=o;break}a+=4,n=1}return h=!0,H(s,t,c.rounding,e)},x.decimalPlaces=x.dp=function(){var t,e=this.d,r=NaN;if(e){if(r=7*((t=e.length-1)-b(this.e/7)),t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},x.dividedBy=x.div=function(t){return T(this,new this.constructor(t))},x.dividedToIntegerBy=x.divToInt=function(t){var e=this.constructor;return H(T(this,new e(t),0,1,1),e.precision,e.rounding)},x.equals=x.eq=function(t){return 0===this.cmp(t)},x.floor=function(){return H(new this.constructor(this),this.e+1,3)},x.greaterThan=x.gt=function(t){return this.cmp(t)>0},x.greaterThanOrEqualTo=x.gte=function(t){var e=this.cmp(t);return 1==e||0===e},x.hyperbolicCosine=x.cosh=function(){var t,e,r,s,n,i=this,a=i.constructor,o=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return o;r=a.precision,s=a.rounding,a.precision=r+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<32?e=(1/Z(4,t=Math.ceil(n/3))).toString():(t=16,e="2.3283064365386962890625e-10"),i=G(a,1,i.times(e),new a(1),!0);for(var u,p=t,l=new a(8);p--;)u=i.times(i),i=o.minus(u.times(l.minus(u.times(l))));return H(i,a.precision=r,a.rounding=s,!0)},x.hyperbolicSine=x.sinh=function(){var t,e,r,s,n=this,i=n.constructor;if(!n.isFinite()||n.isZero())return new i(n);if(e=i.precision,r=i.rounding,i.precision=e+Math.max(n.e,n.sd())+4,i.rounding=1,(s=n.d.length)<3)n=G(i,2,n,n,!0);else{t=(t=1.4*Math.sqrt(s))>16?16:0|t,n=G(i,2,n=n.times(1/Z(5,t)),n,!0);for(var a,o=new i(5),u=new i(16),p=new i(20);t--;)a=n.times(n),n=n.times(o.plus(a.times(u.times(a).plus(p))))}return i.precision=e,i.rounding=r,H(n,e,r,!0)},x.hyperbolicTangent=x.tanh=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+7,s.rounding=1,T(r.sinh(),r.cosh(),s.precision=t,s.rounding=e)):new s(r.s)},x.inverseCosine=x.acos=function(){var t,e=this,r=e.constructor,s=e.abs().cmp(1),n=r.precision,i=r.rounding;return-1!==s?0===s?e.isNeg()?L(r,n,i):new r(0):new r(NaN):e.isZero()?L(r,n+4,i).times(.5):(r.precision=n+6,r.rounding=1,e=e.asin(),t=L(r,n+4,i).times(.5),r.precision=n,r.rounding=i,t.minus(e))},x.inverseHyperbolicCosine=x.acosh=function(){var t,e,r=this,s=r.constructor;return r.lte(1)?new s(r.eq(1)?0:NaN):r.isFinite()?(t=s.precision,e=s.rounding,s.precision=t+Math.max(Math.abs(r.e),r.sd())+4,s.rounding=1,h=!1,r=r.times(r).minus(1).sqrt().plus(r),h=!0,s.precision=t,s.rounding=e,r.ln()):new s(r)},x.inverseHyperbolicSine=x.asinh=function(){var t,e,r=this,s=r.constructor;return!r.isFinite()||r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,s.rounding=1,h=!1,r=r.times(r).plus(1).sqrt().plus(r),h=!0,s.precision=t,s.rounding=e,r.ln())},x.inverseHyperbolicTangent=x.atanh=function(){var t,e,r,s,n=this,i=n.constructor;return n.isFinite()?n.e>=0?new i(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(t=i.precision,e=i.rounding,s=n.sd(),Math.max(s,t)<2*-n.e-1?H(new i(n),t,e,!0):(i.precision=r=s-n.e,n=T(n.plus(1),new i(1).minus(n),r+t,1),i.precision=t+4,i.rounding=1,n=n.ln(),i.precision=t,i.rounding=e,n.times(.5))):new i(NaN)},x.inverseSine=x.asin=function(){var t,e,r,s,n=this,i=n.constructor;return n.isZero()?new i(n):(e=n.abs().cmp(1),r=i.precision,s=i.rounding,-1!==e?0===e?((t=L(i,r+4,s).times(.5)).s=n.s,t):new i(NaN):(i.precision=r+6,i.rounding=1,n=n.div(new i(1).minus(n.times(n)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=s,n.times(2)))},x.inverseTangent=x.atan=function(){var t,e,r,s,n,i,a,o,u,p=this,l=p.constructor,c=l.precision,d=l.rounding;if(p.isFinite()){if(p.isZero())return new l(p);if(p.abs().eq(1)&&c+4<=v)return(a=L(l,c+4,d).times(.25)).s=p.s,a}else{if(!p.s)return new l(NaN);if(c+4<=v)return(a=L(l,c+4,d).times(.5)).s=p.s,a}for(l.precision=o=c+10,l.rounding=1,t=r=Math.min(28,o/7+2|0);t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(o/7),s=1,u=p.times(p),a=new l(p),n=p;-1!==t;)if(n=n.times(u),i=a.minus(n.div(s+=2)),n=n.times(u),void 0!==(a=i.plus(n.div(s+=2))).d[e])for(t=e;a.d[t]===i.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),h=!0,H(a,l.precision=c,l.rounding=d,!0)},x.isFinite=function(){return!!this.d},x.isInteger=x.isInt=function(){return!!this.d&&b(this.e/7)>this.d.length-2},x.isNaN=function(){return!this.s},x.isNegative=x.isNeg=function(){return this.s<0},x.isPositive=x.isPos=function(){return this.s>0},x.isZero=function(){return!!this.d&&0===this.d[0]},x.lessThan=x.lt=function(t){return this.cmp(t)<0},x.lessThanOrEqualTo=x.lte=function(t){return this.cmp(t)<1},x.logarithm=x.log=function(t){var e,r,s,n,i,a,o,u,p=this,l=p.constructor,c=l.precision,d=l.rounding;if(null==t)t=new l(10),e=!0;else{if(r=(t=new l(t)).d,t.s<0||!r||!r[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new l(r&&!r[0]?-1/0:1!=p.s?NaN:r?0:1/0);if(e)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(h=!1,a=J(p,o=c+5),s=e?C(l,o+10):J(t,o),D((u=T(a,s,o,1)).d,n=c,d))do{if(a=J(p,o+=10),s=e?C(l,o+10):J(t,o),u=T(a,s,o,1),!i){+M(u.d).slice(n+1,n+15)+1==1e14&&(u=H(u,c+1,0));break}}while(D(u.d,n+=10,d));return h=!0,H(u,c,d)},x.minus=x.sub=function(t){var e,r,s,n,i,a,o,u,p,l,c,d,f=this,g=f.constructor;if(t=new g(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new g(t.d||f.s!==t.s?f:NaN):t=new g(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(p=f.d,d=t.d,o=g.precision,u=g.rounding,!p[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!p[0])return new g(3===u?-0:0);t=new g(f)}return h?H(t,o,u):t}if(r=b(t.e/7),l=b(f.e/7),p=p.slice(),i=l-r){for((c=i<0)?(e=p,i=-i,a=d.length):(e=d,r=l,a=p.length),i>(s=Math.max(Math.ceil(o/7),a)+2)&&(i=s,e.length=1),e.reverse(),s=i;s--;)e.push(0);e.reverse()}else{for((c=(s=p.length)<(a=d.length))&&(a=s),s=0;s<a;s++)if(p[s]!=d[s]){c=p[s]<d[s];break}i=0}for(c&&(e=p,p=d,d=e,t.s=-t.s),a=p.length,s=d.length-a;s>0;--s)p[a++]=0;for(s=d.length;s>i;){if(p[--s]<d[s]){for(n=s;n&&0===p[--n];)p[n]=j-1;--p[n],p[s]+=j}p[s]-=d[s]}for(;0===p[--a];)p.pop();for(;0===p[0];p.shift())--r;return p[0]?(t.d=p,t.e=$(p,r),h?H(t,o,u):t):new g(3===u?-0:0)},x.modulo=x.mod=function(t){var e,r=this,s=r.constructor;return t=new s(t),!r.d||!t.s||t.d&&!t.d[0]?new s(NaN):!t.d||r.d&&!r.d[0]?H(new s(r),s.precision,s.rounding):(h=!1,9==s.modulo?(e=T(r,t.abs(),0,3,1)).s*=t.s:e=T(r,t,0,s.modulo,1),e=e.times(t),h=!0,r.minus(e))},x.naturalExponential=x.exp=function(){return F(this)},x.naturalLogarithm=x.ln=function(){return J(this)},x.negated=x.neg=function(){var t=new this.constructor(this);return t.s=-t.s,H(t)},x.plus=x.add=function(t){var e,r,s,n,i,a,o,u,p,l,c=this,d=c.constructor;if(t=new d(t),!c.d||!t.d)return c.s&&t.s?c.d||(t=new d(t.d||c.s===t.s?c:NaN)):t=new d(NaN),t;if(c.s!=t.s)return t.s=-t.s,c.minus(t);if(p=c.d,l=t.d,o=d.precision,u=d.rounding,!p[0]||!l[0])return l[0]||(t=new d(c)),h?H(t,o,u):t;if(i=b(c.e/7),s=b(t.e/7),p=p.slice(),n=i-s){for(n<0?(r=p,n=-n,a=l.length):(r=l,s=i,a=p.length),n>(a=(i=Math.ceil(o/7))>a?i+1:a+1)&&(n=a,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((a=p.length)-(n=l.length)<0&&(n=a,r=l,l=p,p=r),e=0;n;)e=(p[--n]=p[n]+l[n]+e)/j|0,p[n]%=j;for(e&&(p.unshift(e),++s),a=p.length;0==p[--a];)p.pop();return t.d=p,t.e=$(p,s),h?H(t,o,u):t},x.precision=x.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(f+t);return r.d?(e=k(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},x.round=function(){var t=this,e=t.constructor;return H(new e(t),t.e+1,e.rounding)},x.sine=x.sin=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+Math.max(r.e,r.sd())+7,s.rounding=1,r=function(t,e){var r,s=e.d.length;if(s<3)return e.isZero()?e:G(t,2,e,e);r=(r=1.4*Math.sqrt(s))>16?16:0|r,e=e.times(1/Z(5,r)),e=G(t,2,e,e);for(var n,i=new t(5),a=new t(16),o=new t(20);r--;)n=e.times(e),e=e.times(i.plus(n.times(a.times(n).minus(o))));return e}(s,Q(s,r)),s.precision=t,s.rounding=e,H(i>2?r.neg():r,t,e,!0)):new s(NaN)},x.squareRoot=x.sqrt=function(){var t,e,r,s,n,i,a=this,o=a.d,u=a.e,p=a.s,l=a.constructor;if(1!==p||!o||!o[0])return new l(!p||p<0&&(!o||o[0])?NaN:o?a:1/0);for(h=!1,0==(p=Math.sqrt(+a))||p==1/0?(((e=M(o)).length+u)%2==0&&(e+="0"),p=Math.sqrt(e),u=b((u+1)/2)-(u<0||u%2),s=new l(e=p==1/0?"5e"+u:(e=p.toExponential()).slice(0,e.indexOf("e")+1)+u)):s=new l(p.toString()),r=(u=l.precision)+3;;)if(s=(i=s).plus(T(a,i,r+2,1)).times(.5),M(i.d).slice(0,r)===(e=M(s.d)).slice(0,r)){if("9999"!=(e=e.slice(r-3,r+1))&&(n||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(H(s,u+1,1),t=!s.times(s).eq(a));break}if(!n&&(H(i,u+1,0),i.times(i).eq(a))){s=i;break}r+=4,n=1}return h=!0,H(s,u,l.rounding,t)},x.tangent=x.tan=function(){var t,e,r=this,s=r.constructor;return r.isFinite()?r.isZero()?new s(r):(t=s.precision,e=s.rounding,s.precision=t+10,s.rounding=1,(r=r.sin()).s=1,r=T(r,new s(1).minus(r.times(r)).sqrt(),t+10,0),s.precision=t,s.rounding=e,H(2==i||4==i?r.neg():r,t,e,!0)):new s(NaN)},x.times=x.mul=function(t){var e,r,s,n,i,a,o,u,p,l=this,c=l.constructor,d=l.d,f=(t=new c(t)).d;if(t.s*=l.s,!(d&&d[0]&&f&&f[0]))return new c(!t.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*t.s:t.s/0);for(r=b(l.e/7)+b(t.e/7),(u=d.length)<(p=f.length)&&(i=d,d=f,f=i,a=u,u=p,p=a),i=[],s=a=u+p;s--;)i.push(0);for(s=p;--s>=0;){for(e=0,n=u+s;n>s;)o=i[n]+f[s]*d[n-s-1]+e,i[n--]=o%j|0,e=o/j|0;i[n]=(i[n]+e)%j|0}for(;!i[--a];)i.pop();return e?++r:i.shift(),t.d=i,t.e=$(i,r),h?H(t,c.precision,c.rounding):t},x.toBinary=function(t,e){return K(this,2,t,e)},x.toDecimalPlaces=x.toDP=function(t,e){var r=this,s=r.constructor;return r=new s(r),void 0===t?r:(E(t,0,o),void 0===e?e=s.rounding:E(e,0,8),H(r,t+r.e+1,e))},x.toExponential=function(t,e){var r,s=this,n=s.constructor;return void 0===t?r=V(s,!0):(E(t,0,o),void 0===e?e=n.rounding:E(e,0,8),r=V(s=H(new n(s),t+1,e),!0,t+1)),s.isNeg()&&!s.isZero()?"-"+r:r},x.toFixed=function(t,e){var r,s,n=this,i=n.constructor;return void 0===t?r=V(n):(E(t,0,o),void 0===e?e=i.rounding:E(e,0,8),r=V(s=H(new i(n),t+n.e+1,e),!1,t+s.e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},x.toFraction=function(t){var e,r,s,n,i,a,o,u,p,l,c,d,g=this,y=g.d,m=g.constructor;if(!y)return new m(g);if(p=r=new m(1),s=u=new m(0),a=(i=(e=new m(s)).e=k(y)-g.e-1)%7,e.d[0]=O(10,a<0?7+a:a),null==t)t=i>0?e:p;else{if(!(o=new m(t)).isInt()||o.lt(p))throw Error(f+o);t=o.gt(e)?i>0?e:p:o}for(h=!1,o=new m(M(y)),l=m.precision,m.precision=i=7*y.length*2;c=T(o,e,0,1,1),1!=(n=r.plus(c.times(s))).cmp(t);)r=s,s=n,n=p,p=u.plus(c.times(n)),u=n,n=e,e=o.minus(c.times(n)),o=n;return n=T(t.minus(r),s,0,1,1),u=u.plus(n.times(p)),r=r.plus(n.times(s)),u.s=p.s=g.s,d=T(p,s,i,1).minus(g).abs().cmp(T(u,r,i,1).minus(g).abs())<1?[p,s]:[u,r],m.precision=l,h=!0,d},x.toHexadecimal=x.toHex=function(t,e){return K(this,16,t,e)},x.toNearest=function(t,e){var r=this,s=r.constructor;if(r=new s(r),null==t){if(!r.d)return r;t=new s(1),e=s.rounding}else{if(t=new s(t),void 0===e?e=s.rounding:E(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(h=!1,r=T(r,t,0,e,1).times(t),h=!0,H(r)):(t.s=r.s,r=t),r},x.toNumber=function(){return+this},x.toOctal=function(t,e){return K(this,8,t,e)},x.toPower=x.pow=function(t){var e,r,s,n,i,a,o=this,u=o.constructor,p=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(O(+o,p));if((o=new u(o)).eq(1))return o;if(s=u.precision,i=u.rounding,t.eq(1))return H(o,s,i);if((e=b(t.e/7))>=t.d.length-1&&(r=p<0?-p:p)<=9007199254740991)return n=R(u,o,r,s),t.s<0?new u(1).div(n):H(n,s,i);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(e=0!=(r=O(+o,p))&&isFinite(r)?new u(r+"").e:b(p*(Math.log("0."+M(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(h=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),(n=F(t.times(J(o,s+r)),s)).d&&D((n=H(n,s+5,1)).d,s,i)&&(e=s+10,+M((n=H(F(t.times(J(o,e+r)),e),e+5,1)).d).slice(s+1,s+15)+1==1e14&&(n=H(n,s+1,0))),n.s=a,h=!0,u.rounding=i,H(n,s,i))},x.toPrecision=function(t,e){var r,s=this,n=s.constructor;return void 0===t?r=V(s,s.e<=n.toExpNeg||s.e>=n.toExpPos):(E(t,1,o),void 0===e?e=n.rounding:E(e,0,8),r=V(s=H(new n(s),t,e),t<=s.e||s.e<=n.toExpNeg,t)),s.isNeg()&&!s.isZero()?"-"+r:r},x.toSignificantDigits=x.toSD=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(E(t,1,o),void 0===e?e=r.rounding:E(e,0,8)),H(new r(this),t,e)},x.toString=function(){var t=this,e=t.constructor,r=V(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},x.truncated=x.trunc=function(){return H(new this.constructor(this),this.e+1,1)},x.valueOf=x.toJSON=function(){var t=this,e=t.constructor,r=V(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var T=function(){function t(t,e,r){var s,n=0,i=t.length;for(t=t.slice();i--;)s=t[i]*e+n,t[i]=s%r|0,n=s/r|0;return n&&t.unshift(n),t}function e(t,e,r,s){var n,i;if(r!=s)i=r>s?1:-1;else for(n=i=0;n<r;n++)if(t[n]!=e[n]){i=t[n]>e[n]?1:-1;break}return i}function r(t,e,r,s){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*s+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift()}return function(n,i,a,o,u,p){var l,c,h,d,f,g,y,m,O,w,S,A,N,I,v,x,M,E,D,P,T=n.constructor,V=n.s==i.s?1:-1,$=n.d,C=i.d;if(!($&&$[0]&&C&&C[0]))return new T(n.s&&i.s&&($?!C||$[0]!=C[0]:C)?$&&0==$[0]||!C?0*V:V/0:NaN);for(p?(f=1,c=n.e-i.e):(p=j,f=7,c=b(n.e/f)-b(i.e/f)),D=C.length,M=$.length,w=(O=new T(V)).d=[],h=0;C[h]==($[h]||0);h++);if(C[h]>($[h]||0)&&c--,null==a?(I=a=T.precision,o=T.rounding):I=u?a+(n.e-i.e)+1:a,I<0)w.push(1),g=!0;else{if(I=I/f+2|0,h=0,1==D){for(d=0,C=C[0],I++;(h<M||d)&&I--;h++)v=d*p+($[h]||0),w[h]=v/C|0,d=v%C|0;g=d||h<M}else{for((d=p/(C[0]+1)|0)>1&&(C=t(C,d,p),$=t($,d,p),D=C.length,M=$.length),x=D,A=(S=$.slice(0,D)).length;A<D;)S[A++]=0;(P=C.slice()).unshift(0),E=C[0],C[1]>=p/2&&++E;do{d=0,(l=e(C,S,D,A))<0?(N=S[0],D!=A&&(N=N*p+(S[1]||0)),(d=N/E|0)>1?(d>=p&&(d=p-1),1==(l=e(y=t(C,d,p),S,m=y.length,A=S.length))&&(d--,r(y,D<m?P:C,m,p))):(0==d&&(l=d=1),y=C.slice()),(m=y.length)<A&&y.unshift(0),r(S,y,A,p),-1==l&&(l=e(C,S,D,A=S.length))<1&&(d++,r(S,D<A?P:C,A,p)),A=S.length):0===l&&(d++,S=[0]),w[h++]=d,l&&S[0]?S[A++]=$[x]||0:(S=[$[x]],A=1)}while((x++<M||void 0!==S[0])&&I--);g=void 0!==S[0]}w[0]||w.shift()}if(1==f)O.e=c,s=g;else{for(h=1,d=w[0];d>=10;d/=10)h++;O.e=h+c*f-1,H(O,u?a+O.e+1:a,o,g)}return O}}();function H(t,e,r,s){var n,i,a,o,u,p,l,c,d,f=t.constructor;t:if(null!=e){if(!(c=t.d))return t;for(n=1,o=c[0];o>=10;o/=10)n++;if((i=e-n)<0)i+=7,a=e,u=(l=c[d=0])/O(10,n-a-1)%10|0;else if((d=Math.ceil((i+1)/7))>=(o=c.length)){if(!s)break t;for(;o++<=d;)c.push(0);l=u=0,n=1,a=(i%=7)-7+1}else{for(l=o=c[d],n=1;o>=10;o/=10)n++;u=(a=(i%=7)-7+n)<0?0:l/O(10,n-a-1)%10|0}if(s=s||e<0||void 0!==c[d+1]||(a<0?l:l%O(10,n-a-1)),p=r<4?(u||s)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||s||6==r&&(i>0?a>0?l/O(10,n-a):0:c[d-1])%10&1||r==(t.s<0?8:7)),e<1||!c[0])return c.length=0,p?(e-=t.e+1,c[0]=O(10,(7-e%7)%7),t.e=-e||0):c[0]=t.e=0,t;if(0==i?(c.length=d,o=1,d--):(c.length=d+1,o=O(10,7-i),c[d]=a>0?(l/O(10,n-a)%O(10,a)|0)*o:0),p)for(;;){if(0==d){for(i=1,a=c[0];a>=10;a/=10)i++;for(a=c[0]+=o,o=1;a>=10;a/=10)o++;i!=o&&(t.e++,c[0]==j&&(c[0]=1));break}if(c[d]+=o,c[d]!=j)break;c[d--]=0,o=1}for(i=c.length;0===c[--i];)c.pop()}return h&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function V(t,e,r){if(!t.isFinite())return _(t);var s,n=t.e,i=M(t.d),a=i.length;return e?(r&&(s=r-a)>0?i=i.charAt(0)+"."+i.slice(1)+B(s):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):n<0?(i="0."+B(-n-1)+i,r&&(s=r-a)>0&&(i+=B(s))):n>=a?(i+=B(n+1-a),r&&(s=r-n-1)>0&&(i=i+"."+B(s))):((s=n+1)<a&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-a)>0&&(n+1===a&&(i+="."),i+=B(s))),i}function $(t,e){var r=t[0];for(e*=7;r>=10;r/=10)e++;return e}function C(t,e,r){if(e>I)throw h=!0,r&&(t.precision=r),Error(g);return H(new t(p),e,1,!0)}function L(t,e,r){if(e>v)throw Error(g);return H(new t(l),e,r,!0)}function k(t){var e=t.length-1,r=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function B(t){for(var e="";t--;)e+="0";return e}function R(t,e,r,s){var n,i=new t(1),a=Math.ceil(s/7+4);for(h=!1;;){if(r%2&&X((i=i.times(e)).d,a)&&(n=!0),0===(r=b(r/2))){r=i.d.length-1,n&&0===i.d[r]&&++i.d[r];break}X((e=e.times(e)).d,a)}return h=!0,i}function W(t){return 1&t.d[t.d.length-1]}function q(t,e,r){for(var s,n=new t(e[0]),i=0;++i<e.length;){if(!(s=new t(e[i])).s){n=s;break}n[r](s)&&(n=s)}return n}function F(t,e){var r,s,n,i,a,o,u,p=0,l=0,c=0,d=t.constructor,f=d.rounding,g=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(h=!1,u=g):u=e,o=new d(.03125);t.e>-2;)t=t.times(o),c+=5;for(u+=s=Math.log(O(2,c))/Math.LN10*2+5|0,r=i=a=new d(1),d.precision=u;;){if(i=H(i.times(t),u,1),r=r.times(++l),M((o=a.plus(T(i,r,u,1))).d).slice(0,u)===M(a.d).slice(0,u)){for(n=c;n--;)a=H(a.times(a),u,1);if(null!=e)return d.precision=g,a;if(!(p<3&&D(a.d,u-s,f,p)))return H(a,d.precision=g,f,h=!0);d.precision=u+=10,r=i=o=new d(1),l=0,p++}a=o}}function J(t,e){var r,s,n,i,a,o,u,p,l,c,d,f=1,g=t,y=g.d,m=g.constructor,b=m.rounding,O=m.precision;if(g.s<0||!y||!y[0]||!g.e&&1==y[0]&&1==y.length)return new m(y&&!y[0]?-1/0:1!=g.s?NaN:y?0:g);if(null==e?(h=!1,l=O):l=e,m.precision=l+=10,s=(r=M(y)).charAt(0),!(Math.abs(i=g.e)<15e14))return p=C(m,l+2,O).times(i+""),g=J(new m(s+"."+r.slice(1)),l-10).plus(p),m.precision=O,null==e?H(g,O,b,h=!0):g;for(;s<7&&1!=s||1==s&&r.charAt(1)>3;)s=(r=M((g=g.times(t)).d)).charAt(0),f++;for(i=g.e,s>1?(g=new m("0."+r),i++):g=new m(s+"."+r.slice(1)),c=g,u=a=g=T(g.minus(1),g.plus(1),l,1),d=H(g.times(g),l,1),n=3;;){if(a=H(a.times(d),l,1),M((p=u.plus(T(a,new m(n),l,1))).d).slice(0,l)===M(u.d).slice(0,l)){if(u=u.times(2),0!==i&&(u=u.plus(C(m,l+2,O).times(i+""))),u=T(u,new m(f),l,1),null!=e)return m.precision=O,u;if(!D(u.d,l-10,b,o))return H(u,m.precision=O,b,h=!0);m.precision=l+=10,p=a=g=T(c.minus(1),c.plus(1),l,1),d=H(g.times(g),l,1),n=o=1}u=p,n+=2}}function _(t){return String(t.s*t.s/0)}function U(t,e){var r,s,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;48===e.charCodeAt(s);s++);for(n=e.length;48===e.charCodeAt(n-1);--n);if(e=e.slice(s,n)){if(n-=s,t.e=r=r-s-1,t.d=[],s=(r+1)%7,r<0&&(s+=7),s<n){for(s&&t.d.push(+e.slice(0,s)),n-=7;s<n;)t.d.push(+e.slice(s,s+=7));s=7-(e=e.slice(s)).length}else s-=n;for(;s--;)e+="0";t.d.push(+e),h&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function z(t,e){var s,n,i,a,o,u,p,l,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),N.test(e))return U(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(S.test(e))s=16,e=e.toLowerCase();else if(w.test(e))s=2;else{if(!A.test(e))throw Error(f+e);s=8}for((a=e.search(/p/i))>0?(p=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),o=(a=e.indexOf("."))>=0,n=t.constructor,o&&(a=(u=(e=e.replace(".","")).length)-a,i=R(n,new n(s),a,2*a)),a=c=(l=P(e,s,j)).length-1;0===l[a];--a)l.pop();return a<0?new n(0*t.s):(t.e=$(l,c),t.d=l,h=!1,o&&(t=T(t,i,4*u)),p&&(t=t.times(Math.abs(p)<54?O(2,p):r.pow(2,p))),h=!0,t)}function G(t,e,r,s,n){var i,a,o,u,p=t.precision,l=Math.ceil(p/7);for(h=!1,u=r.times(r),o=new t(s);;){if(a=T(o.times(u),new t(e++*e++),p,1),o=n?s.plus(a):s.minus(a),s=T(a.times(u),new t(e++*e++),p,1),void 0!==(a=o.plus(s)).d[l]){for(i=l;a.d[i]===o.d[i]&&i--;);if(-1==i)break}i=o,o=s,s=a,a=i}return h=!0,a.d.length=l+1,a}function Z(t,e){for(var r=t;--e;)r*=t;return r}function Q(t,e){var r,s=e.s<0,n=L(t,t.precision,1),a=n.times(.5);if((e=e.abs()).lte(a))return i=s?4:1,e;if((r=e.divToInt(n)).isZero())i=s?3:2;else{if((e=e.minus(r.times(n))).lte(a))return i=W(r)?s?2:3:s?4:1,e;i=W(r)?s?1:4:s?3:2}return e.minus(n).abs()}function K(t,e,r,n){var i,a,p,l,c,h,d,f,g,y=t.constructor,m=void 0!==r;if(m?(E(r,1,o),void 0===n?n=y.rounding:E(n,0,8)):(r=y.precision,n=y.rounding),t.isFinite()){for(m?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,(p=(d=V(t)).indexOf("."))>=0&&(d=d.replace(".",""),(g=new y(1)).e=d.length-p,g.d=P(V(g),10,i),g.e=g.d.length),a=c=(f=P(d,10,i)).length;0==f[--c];)f.pop();if(f[0]){if(p<0?a--:((t=new y(t)).d=f,t.e=a,f=(t=T(t,g,r,n,0,i)).d,a=t.e,h=s),p=f[r],l=i/2,h=h||void 0!==f[r+1],h=n<4?(void 0!==p||h)&&(0===n||n===(t.s<0?3:2)):p>l||p===l&&(4===n||h||6===n&&1&f[r-1]||n===(t.s<0?8:7)),f.length=r,h)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(c=f.length;!f[c-1];--c);for(p=0,d="";p<c;p++)d+=u.charAt(f[p]);if(m){if(c>1)if(16==e||8==e){for(p=16==e?4:3,--c;c%p;c++)d+="0";for(c=(f=P(d,i,e)).length;!f[c-1];--c);for(p=1,d="1.";p<c;p++)d+=u.charAt(f[p])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>c)for(a-=c;a--;)d+="0";else a<c&&(d=d.slice(0,a)+"."+d.slice(a))}else d=m?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=_(t);return t.s<0?"-"+d:d}function X(t,e){if(t.length>e)return t.length=e,!0}function Y(t){return new this(t).abs()}function tt(t){return new this(t).acos()}function et(t){return new this(t).acosh()}function rt(t,e){return new this(t).plus(e)}function st(t){return new this(t).asin()}function nt(t){return new this(t).asinh()}function it(t){return new this(t).atan()}function at(t){return new this(t).atanh()}function ot(t,e){t=new this(t),e=new this(e);var r,s=this.precision,n=this.rounding,i=s+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?L(this,s,n):new this(0)).s=t.s:!t.d||e.isZero()?(r=L(this,i,1).times(.5)).s=t.s:e.s<0?(this.precision=i,this.rounding=1,r=this.atan(T(t,e,i,1)),e=L(this,i,1),this.precision=s,this.rounding=n,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(T(t,e,i,1)):(r=L(this,i,1).times(e.s>0?.25:.75)).s=t.s:r=new this(NaN),r}function ut(t){return new this(t).cbrt()}function pt(t){return H(t=new this(t),t.e+1,2)}function lt(t,e,r){return new this(t).clamp(e,r)}function ct(t){if(!t||"object"!=typeof t)throw Error(d+"Object expected");var e,r,s,n=!0===t.defaults,i=["precision",1,o,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(r=i[e],n&&(this[r]=c[r]),void 0!==(s=t[r])){if(!(b(s)===s&&s>=i[e+1]&&s<=i[e+2]))throw Error(f+r+": "+s);this[r]=s}if(r="crypto",n&&(this[r]=c[r]),void 0!==(s=t[r])){if(!0!==s&&!1!==s&&0!==s&&1!==s)throw Error(f+r+": "+s);if(s){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(y);this[r]=!0}else this[r]=!1}return this}function ht(t){return new this(t).cos()}function dt(t){return new this(t).cosh()}function ft(t,e){return new this(t).div(e)}function gt(t){return new this(t).exp()}function yt(t){return H(t=new this(t),t.e+1,3)}function mt(){var t,e,r=new this(0);for(h=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);r=e}return h=!0,r.sqrt()}function bt(t){return t instanceof r||t&&t.toStringTag===m||!1}function Ot(t){return new this(t).ln()}function wt(t,e){return new this(t).log(e)}function St(t){return new this(t).log(2)}function At(t){return new this(t).log(10)}function Nt(){return q(this,arguments,"lt")}function jt(){return q(this,arguments,"gt")}function It(t,e){return new this(t).mod(e)}function vt(t,e){return new this(t).mul(e)}function xt(t,e){return new this(t).pow(e)}function Mt(t){var e,r,s,n,i=0,a=new this(1),u=[];if(void 0===t?t=this.precision:E(t,1,o),s=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(s));i<s;)(n=e[i])>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:u[i++]=n%1e7;else{if(!crypto.randomBytes)throw Error(y);for(e=crypto.randomBytes(s*=4);i<s;)(n=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((127&e[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,i):(u.push(n%1e7),i+=4);i=s/4}else for(;i<s;)u[i++]=1e7*Math.random()|0;for(t%=7,(s=u[--i])&&t&&(n=O(10,7-t),u[i]=(s/n|0)*n);0===u[i];i--)u.pop();if(i<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=7)u.shift();for(s=1,n=u[0];n>=10;n/=10)s++;s<7&&(r-=7-s)}return a.e=r,a.d=u,a}function Et(t){return H(t=new this(t),t.e+1,this.rounding)}function Dt(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Pt(t){return new this(t).sin()}function Tt(t){return new this(t).sinh()}function Ht(t){return new this(t).sqrt()}function Vt(t,e){return new this(t).sub(e)}function $t(){var t=0,e=arguments,r=new this(e[t]);for(h=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return h=!0,H(r,this.precision,this.rounding)}function Ct(t){return new this(t).tan()}function Lt(t){return new this(t).tanh()}function kt(t){return H(t=new this(t),t.e+1,1)}r=function t(e){var r,s,n;function i(t){var e,r,s,n=this;if(!(n instanceof i))return new i(t);if(n.constructor=i,bt(t))return n.s=t.s,void(h?!t.d||t.e>i.maxE?(n.e=NaN,n.d=null):t.e<i.minE?(n.e=0,n.d=[0]):(n.e=t.e,n.d=t.d.slice()):(n.e=t.e,n.d=t.d?t.d.slice():t.d));if("number"===(s=typeof t)){if(0===t)return n.s=1/t<0?-1:1,n.e=0,void(n.d=[0]);if(t<0?(t=-t,n.s=-1):n.s=1,t===~~t&&t<1e7){for(e=0,r=t;r>=10;r/=10)e++;return void(h?e>i.maxE?(n.e=NaN,n.d=null):e<i.minE?(n.e=0,n.d=[0]):(n.e=e,n.d=[t]):(n.e=e,n.d=[t]))}return 0*t!=0?(t||(n.s=NaN),n.e=NaN,void(n.d=null)):U(n,t.toString())}if("string"!==s)throw Error(f+t);return 45===(r=t.charCodeAt(0))?(t=t.slice(1),n.s=-1):(43===r&&(t=t.slice(1)),n.s=1),N.test(t)?U(n,t):z(n,t)}if(i.prototype=x,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ct,i.clone=t,i.isDecimal=bt,i.abs=Y,i.acos=tt,i.acosh=et,i.add=rt,i.asin=st,i.asinh=nt,i.atan=it,i.atanh=at,i.atan2=ot,i.cbrt=ut,i.ceil=pt,i.clamp=lt,i.cos=ht,i.cosh=dt,i.div=ft,i.exp=gt,i.floor=yt,i.hypot=mt,i.ln=Ot,i.log=wt,i.log10=At,i.log2=St,i.max=Nt,i.min=jt,i.mod=It,i.mul=vt,i.pow=xt,i.random=Mt,i.round=Et,i.sign=Dt,i.sin=Pt,i.sinh=Tt,i.sqrt=Ht,i.sub=Vt,i.sum=$t,i.tan=Ct,i.tanh=Lt,i.trunc=kt,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)e.hasOwnProperty(s=n[r++])||(e[s]=this[s]);return i.config(e),i}(c),r.prototype.constructor=r,r.default=r.Decimal=r,p=new r(p),l=new r(l),void 0!==e&&e.exports?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(x[Symbol.for("nodejs.util.inspect.custom")]=x.toString,x[Symbol.toStringTag]="Decimal"),e.exports=r):(t||(t="undefined"!=typeof self&&self&&self.self==self?self:window),n=t.Decimal,r.noConflict=function(){return t.Decimal=n,r},t.Decimal=r)}(this)},{}],2:[function(t,e,r){e.exports=
/**
* @license MIT
* @author <steven@velozo.com>
*/
class{constructor(t){this.elucidator=t,this.namespace="default"}initializeNamespace(t){"string"==typeof t&&(this.namespace=t),this.elucidator.instructionSets.hasOwnProperty(this.namespace)||(this.elucidator.instructionSets[this.namespace.toLowerCase()]={}),this.elucidator.operationSets.hasOwnProperty(this.namespace)||(this.elucidator.operationSets[this.namespace.toLowerCase()]={})}addInstruction(t,e){return"string"!=typeof t?(this.elucidator.logError("Attempted to add an instruction with an invalid hash; expected a string but the instruction hash type was "+typeof t),!1):"function"!=typeof e?(this.elucidator.logError("Attempted to add an instruction with an invalid function; expected a function but type was "+typeof e),!1):(this.elucidator.instructionSets[this.namespace.toLowerCase()][t]=e,!0)}initializeInstructions(){return this.addInstruction("noop",(t=>(t.logInfo("Executing a no-operation operation."),!0))),!0}addOperation(t,e){if("string"!=typeof t)return this.elucidator.logError("Attempted to add an operation with an invalid hash; expected a string but the operation hash type was "+typeof t,e),!1;if("object"!=typeof e)return this.elucidator.logError("Attempted to add an invalid operation; expected an object data type but the type was "+typeof e,e),!1;if(!e.hasOwnProperty("Description"))return this.elucidator.logError("Attempted to add an operation with an invalid description; no Description subobject set.",e),!1;if("object"!=typeof e.Description)return this.elucidator.logError(`Attempted to add an operation with an invalid description; Description subobject was not an object.  The type was ${typeof e.Description}.`,e),!1;if("string"!=typeof e.Description.Hash){if("string"!=typeof e.Description.Operation)return this.elucidator.logError("Attempted to add an operation with an invalid description; Description subobject did not contain a valid Hash which is required to call the operation.",e),!1;e.Description.Hash=e.Description.Operation}return"string"==typeof e.Description.Namespace&&e.Description.Namespace==this.namespace||(e.Description.Namespace=this.namespace),"string"!=typeof e.Description.Summary&&(e.Description.Summary=`[${e.Description.Namespace}] [${e.Description.Hash}] operation.`),e.hasOwnProperty("Inputs")||(e.Inputs={}),e.hasOwnProperty("Outputs")||(e.Outputs={}),e.hasOwnProperty("Steps")||(e.Steps=[]),"object"!=typeof e.Inputs?(this.elucidator.logError("Attempted to add an operation with an invalid Inputs object.",e),!1):"object"!=typeof e.Outputs?(this.elucidator.logError("Attempted to add an operation with an invalid Outputs object.",e),!1):Array.isArray(e.Steps)?(this.elucidator.operationSets[this.namespace.toLowerCase()][t.toLowerCase()]=e,!0):(this.elucidator.logError("Attempted to add an operation with an invalid Steps array.",e),!1)}initializeOperations(){return this.addOperation("noop",{Description:{Operation:"noop",Description:"No operation - no affect on any data."}}),!0}}},{}],3:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
const s=(t,e,r)=>{let s="string"==typeof t?t:"",n="string"==typeof r?r:"INFO";console.log(`[Elucidator:${n}] ${s}`),e&&console.log(JSON.stringify(e,null,4)+"\n")};e.exports={logToConsole:s,info:(t,e)=>{s(t,e,"Info")},warning:(t,e)=>{s(t,e,"Warning")},error:(t,e)=>{s(t,e,"Error")}}},{}],4:[function(t,e,r){let s=t("../Elucidator-InstructionSet.js");e.exports=class extends s{constructor(t){super(t),this.namespace="Geometry"}initializeInstructions(){return!0}initializeOperations(){return this.addOperation("rectanglearea",t("./Operations/Geometry-RectangleArea.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Geometry-RectangleArea.json":7}],5:[function(t,e,r){let s=t("../Elucidator-InstructionSet.js");const n=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"leftValue"),r=t.InputManyfest.getValueByHash(t.InputObject,"rightValue"),s=t.InputManyfest.getValueByHash(t.InputObject,"comparator").toString().toLowerCase(),n="equal",i={"==":"equal",eq:"equal",equal:"equal","!=":"notequal",noteq:"notequal",notequal:"notequal","===":"identity",id:"identity",identity:"identity",">":"greaterthan",gt:"greaterthan",greaterthan:"greaterthan",">=":"greaterthanorequal",gte:"greaterthanorequal",greaterthanorequal:"greaterthanorequal","<":"lessthan",lt:"lessthan",lessthan:"lessthan","<=":"lessthanorequal",lte:"lessthanorequal",lessthanorequal:"lessthanorequal"};i.hasOwnProperty(s)&&(n=i[s]);let a=t.InputManyfest.getValueByHash(t.InputObject,"trueNamespace"),o=t.InputManyfest.getValueByHash(t.InputObject,"trueOperation"),u=t.InputManyfest.getValueByHash(t.InputObject,"falseNamespace"),p=t.InputManyfest.getValueByHash(t.InputObject,"falseOperation"),l=null;switch(n){case"equal":l=e==r;break;case"identity":l=e===r;break;case"notequal":l=e!=r;break;case"greaterthan":l=e>r;break;case"greaterthanorequal":l=e>=r;break;case"lessthan":l=e<r;break;case"lessthanorequal":l=e<=r}return t.OutputManyfest.setValueByHash(t.OutputObject,"truthinessResult",l),l&&"string"==typeof a&&"string"==typeof o&&"noop"!=o?t.Elucidator.solveInternalOperation(a,o,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext):"string"==typeof u&&"string"==typeof p&&"noop"!=p&&t.Elucidator.solveInternalOperation(u,p,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"namespace"),r=t.InputManyfest.getValueByHash(t.InputObject,"operation");return t.Elucidator.solveInternalOperation(e,r,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext),!0};e.exports=class extends s{constructor(t){super(t),this.namespace="Logic"}initializeInstructions(){return super.initializeInstructions(),this.addInstruction("if",n),this.addInstruction("execute",i),!0}initializeOperations(){return this.addOperation("if",t("./Operations/Logic-If.json")),this.addOperation("execute",t("./Operations/Logic-Execute.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Logic-Execute.json":8,"./Operations/Logic-If.json":9}],6:[function(t,e,r){let s=t("../Elucidator-InstructionSet.js"),n=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e+r),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e-r),!0},a=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e*r),!0},o=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e/r),!0},u=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=0;if("object"==typeof e)if(Array.isArray(e))for(let s=0;s<e.length;s++){let n=parseInt(e[s]);isNaN(n)?t.logError(`Array element index [${s}] could not be parsed as a number; skipping.  (${e[s]})`):(r+=n,t.logInfo(`Adding element [${s}] value ${n} totaling: ${r}`))}else{let s=Object.keys(e);for(let n=0;n<s.length;n++){let i=parseInt(e[s[n]]);isNaN(i)?t.logError(`Object property [${s[n]}] could not be parsed as a number; skipping.  (${e[s[n]]})`):(r+=i,t.logInfo(`Adding object property [${s[n]}] value ${i} totaling: ${r}`))}}else{let s=parseInt(e);isNaN(s)?t.logError(`Direct value could not be parsed as a number; skipping.  (${e})`):r+=s}return t.OutputManyfest.setValueByHash(t.OutputObject,"x",r),!0};e.exports=class extends s{constructor(t){super(t),this.namespace="Math"}initializeInstructions(){return this.addInstruction("add",n),this.addInstruction("subtract",i),this.addInstruction("sub",i),this.addInstruction("multiply",a),this.addInstruction("mul",a),this.addInstruction("divide",o),this.addInstruction("div",o),this.addInstruction("aggregate",u),!0}initializeOperations(){return this.addOperation("add",t("./Operations/Math-Add.json")),this.addOperation("subtract",t("./Operations/Math-Subtract.json")),this.addOperation("multiply",t("./Operations/Math-Multiply.json")),this.addOperation("divide",t("./Operations/Math-Divide.json")),this.addOperation("aggregate",t("./Operations/Math-Aggregate.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Math-Add.json":10,"./Operations/Math-Aggregate.json":11,"./Operations/Math-Divide.json":12,"./Operations/Math-Multiply.json":13,"./Operations/Math-Subtract.json":14}],7:[function(t,e,r){e.exports={Description:{Namespace:"Geometry",Operation:"RectangleArea",Synopsis:"Solve for the area of a rectangle:  Area = Width * Height"},Inputs:{Width:{Hash:"Width",Type:"Number"},Height:{Hash:"Height",Type:"Number"}},Outputs:{Area:{Hash:"Area",Name:"Area of the Rectangle"},Ratio:{Hash:"Ratio",Name:"The Ratio between the Width and the Height"}},Log:{PreOperation:"Solve for [ {{Name:Area}} ] based on [ {{Name:Width}} ] and [ {{Name:Height}} ].",PostOperation:"Operation complete; [ {{Name:Area}} ] = {{InputValue:Width}} * {{InputValue:Height}} = {{OutputValue:Area}}"},Steps:[{Namespace:"PreciseMath",Instruction:"multiply",InputHashAddressMap:{a:"Width",b:"Height"},OutputHashAddressMap:{x:"Area"}},{Namespace:"PreciseMath",Instruction:"divide",InputHashAddressMap:{a:"Width",b:"Height"},OutputHashAddressMap:{x:"Ratio"}}]}},{}],8:[function(t,e,r){e.exports={Description:{Namespace:"Logic",Operation:"Execute",Synopsis:"Execute an operation based on namespace and operation."},Inputs:{namespace:{Hash:"namespace",Type:"string",Default:"logic"},operation:{Hash:"operation",Type:"string",Default:"noop"}},Outputs:{},Log:{PreOperation:"Execute the {{InputValue:operation}} operation in namespace {{InputValue:namespace}}.",PostOperation:"Operation [{{InputValue:namespace}}:{{InputValue:operation}}] execution complete."},Steps:[{Namespace:"Logic",Instruction:"execute"}]}},{}],9:[function(t,e,r){e.exports={Description:{Namespace:"Logic",Operation:"If",Synopsis:"Comparison-based if of leftValue and RightValue based on comparator.  Executes trueNamespace:trueOperation or falseNamespace:falseOperation based on truthiness of result.  Also outputs a true or false to truthinessResult."},Inputs:{leftValue:{Hash:"leftValue",Type:"Any"},rightValue:{Hash:"rightValue",Type:"Any",Default:!0},comparator:{Hash:"comparator",Type:"String",Default:"=="},trueNamespace:{Hash:"trueNamespace",Type:"String",Default:"logic"},trueOperation:{Hash:"trueOperation",Type:"String",Default:"noop"},falseNamespace:{Hash:"falseNamespace",Type:"String",Default:"logic"},falseOperation:{Hash:"falseOperation",Type:"String",Default:"noop"}},Outputs:{truthinessResult:{Hash:"truthinessResult",Type:"Boolean"}},Log:{PreOperation:"Compare {{Name:leftValue}} and {{Name:rightValue}} with the {{InputValue:comparator}} operator, storing the truthiness in {{Name:truthinessResult}}.",PostOperation:"Operation complete: {{InputValue:leftValue}} {{InputValue:comparator}} {{InputValue:rightValue}} evaluated to {{OutputValue:truthinessResult}}"},Steps:[{Namespace:"Logic",Instruction:"If"}]}},{}],10:[function(t,e,r){e.exports={Description:{Namespace:"Math",Operation:"Add",Synopsis:"Add two numbers:  x = a + b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Add {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} + {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"add"}]}},{}],11:[function(t,e,r){e.exports={Description:{Namespace:"Math",Operation:"Aggregate",Synopsis:"Aggregate a set of numbers (from array or object address):  x = a + b + ... + z"},Inputs:{a:{Hash:"a",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Aggregate all numeric values in {{Name:a}}, storing the resultant in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"aggregate"}]}},{}],12:[function(t,e,r){e.exports={Description:{Namespace:"Math",Operation:"Divide",Synopsis:"Divide two numbers:  x = a / b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Divide {{Name:a}} over {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} / {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"divide"}]}},{}],13:[function(t,e,r){e.exports={Description:{Namespace:"Math",Operation:"Multiply",Synopsis:"Multiply two numbers:  x = a * b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Multiply {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} * {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"multiply"}]}},{}],14:[function(t,e,r){e.exports={Description:{Namespace:"Math",Operation:"Subtract",Synopsis:"Subtract two numbers:  x = a - b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Subtract {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} - {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"subtract"}]}},{}],15:[function(t,e,r){e.exports={Description:{Namespace:"PreciseMath",Operation:"Add",Synopsis:"Precisely add two numbers:  x = a + b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Add {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} + {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"add"}]}},{}],16:[function(t,e,r){e.exports={Description:{Namespace:"PreciseMath",Operation:"Aggregate",Synopsis:"Precisely aggregate a set of numbers (from array or object address):  x = a + b + ... + z"},Inputs:{a:{Hash:"a",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Aggregate all numeric values in {{Name:a}}, storing the resultant in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"aggregate"}]}},{}],17:[function(t,e,r){e.exports={Description:{Namespace:"PreciseMath",Operation:"Divide",Synopsis:"Precisely divide two numbers:  x = a / b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Divide {{Name:a}} over {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} / {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"divide"}]}},{}],18:[function(t,e,r){e.exports={Description:{Namespace:"PreciseMath",Operation:"Multiply",Synopsis:"Precisely multiply two numbers:  x = a * b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Multiply {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} * {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"multiply"}]}},{}],19:[function(t,e,r){e.exports={Description:{Namespace:"PreciseMath",Operation:"Subtract",Synopsis:"Precisely subtract two numbers:  x = a - b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Subtract {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} - {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"subtract"}]}},{}],20:[function(t,e,r){e.exports={Description:{Namespace:"String",Operation:"Replace",Synopsis:"Replace all instances of searchFor with replaceWith in inputString"},Inputs:{inputString:{Hash:"inputString",Type:"String"},searchFor:{Hash:"searchFor",Type:"String"},replaceWith:{Hash:"replaceWith",Type:"String"}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Search for [{{InputValue:searchFor}}] and replace it with [{{InputValue:replaceWith}}] in [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}] replacing [{{InputValue:searchFor}}] with [{{InputValue:replaceWith}}]."},Steps:[{Namespace:"String",Instruction:"replace"}]}},{}],21:[function(t,e,r){e.exports={Description:{Namespace:"String",Operation:"Substring",Synopsis:"Get all characters between indexStart and indexEnd (optional) for a given inputString."},Inputs:{inputString:{Hash:"inputString",Type:"String"},indexStart:{Hash:"indexStart",Type:"Number",Default:0},indexEnd:{Hash:"indexEnd",Type:"String",Default:null}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Get all characters between {{InputValue:indexStart}} and {{InputValue:indexEnd}} in [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}] between {{InputValue:indexStart}} and {{InputValue:indexEnd}}."},Steps:[{Namespace:"String",Instruction:"substring"}]}},{}],22:[function(t,e,r){e.exports={Description:{Namespace:"String",Operation:"Trim",Synopsis:"Trim whitespace off the end of string in inputString, putting the result in outputString"},Inputs:{inputString:{Hash:"inputString",Type:"String"}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Trim the whitespace from value [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}]"},Steps:[{Namespace:"String",Instruction:"trim"}]}},{}],23:[function(t,e,r){let s=t("../Elucidator-InstructionSet.js");const n=t("decimal.js");let i=t=>{let e=new n(t.InputManyfest.getValueByHash(t.InputObject,"a")),r=new n(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.plus(r).toString()),!0},a=t=>{let e=new n(t.InputManyfest.getValueByHash(t.InputObject,"a")),r=new n(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.sub(r).toString()),!0},o=t=>{let e=new n(t.InputManyfest.getValueByHash(t.InputObject,"a")),r=new n(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.mul(r).toString()),!0},u=t=>{let e=new n(t.InputManyfest.getValueByHash(t.InputObject,"a")),r=new n(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.div(r).toString()),!0},p=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),r=typeof e,s=new n(0);if("object"==r)if(Array.isArray(e))for(let r=0;r<e.length;r++){let i=new n(e[r]);isNaN(i)?t.logError(`Array element index [${r}] could not be parsed as a number by Decimal.js; skipping.  (${e[r]})`):(s=s.plus(i),t.logInfo(`Adding element [${r}] value ${i} totaling: ${s}`))}else{let r=Object.keys(e);for(let i=0;i<r.length;i++){let a=new n(e[r[i]]);isNaN(a)?t.logError(`Object property [${r[i]}] could not be parsed as a number; skipping.  (${e[r[i]]})`):(s=s.plus(a),t.logInfo(`Adding object property [${r[i]}] value ${a} totaling: ${s}`))}}else{let r=new n(e);isNaN(r)?t.logError(`Direct value could not be parsed as a number; skipping.  (${e})`):s=r}return t.OutputManyfest.setValueByHash(t.OutputObject,"x",s.toString()),!0},l=t=>{let e=new n(t.InputManyfest.getValueByHash(t.InputObject,"a"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.toFraction().toString()),!0};e.exports=class extends s{constructor(t){super(t),this.namespace="PreciseMath"}initializeInstructions(){return this.addInstruction("add",i),this.addInstruction("subtract",a),this.addInstruction("sub",a),this.addInstruction("multiply",o),this.addInstruction("mul",o),this.addInstruction("divide",u),this.addInstruction("div",u),this.addInstruction("aggregate",p),this.addInstruction("tofraction",l),!0}initializeOperations(){return this.addOperation("add",t("./Operations/PreciseMath-Add.json")),this.addOperation("subtract",t("./Operations/PreciseMath-Subtract.json")),this.addOperation("multiply",t("./Operations/PreciseMath-Multiply.json")),this.addOperation("divide",t("./Operations/PreciseMath-Divide.json")),this.addOperation("aggregate",t("./Operations/PreciseMath-Aggregate.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/PreciseMath-Add.json":15,"./Operations/PreciseMath-Aggregate.json":16,"./Operations/PreciseMath-Divide.json":17,"./Operations/PreciseMath-Multiply.json":18,"./Operations/PreciseMath-Subtract.json":19,"decimal.js":1}],24:[function(t,e,r){let s=t("../Elucidator-InstructionSet.js"),n=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.trim()),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString"),r=t.InputManyfest.getValueByHash(t.InputObject,"searchFor"),s=t.InputManyfest.getValueByHash(t.InputObject,"replaceWith");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.replace(r,s)),!0},a=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString"),r=t.InputManyfest.getValueByHash(t.InputObject,"indexStart"),s=t.InputManyfest.getValueByHash(t.InputObject,"indexEnd");return null!=s?t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.substring(r,s)):t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.substring(r)),!0};e.exports=class extends s{constructor(t){super(t),this.namespace="String"}initializeInstructions(){return this.addInstruction("trim",n),this.addInstruction("replace",i),this.addInstruction("substring",a),!0}initializeOperations(){return this.addOperation("trim",t("./Operations/String-Trim.json")),this.addOperation("replace",t("./Operations/String-Replace.json")),this.addOperation("substring",t("./Operations/String-Substring.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/String-Replace.json":20,"./Operations/String-Substring.json":21,"./Operations/String-Trim.json":22}],25:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
const s=t("./Elucidator-LogToConsole.js"),n=t("manyfest"),i=t("precedent"),a=t("./Elucidator-InstructionSet.js");e.exports=class{constructor(t,e,r){if(this.logInfo="function"==typeof e?e:s.info,this.logWarning="function"==typeof fWarningLog?fWarningLog:s.warning,this.logError="function"==typeof r?r:s.error,this.instructionSets={},this.operationSets={},this.UUID=0,this.loadDefaultInstructionSets(),t){let e=Object.keys(t);for(let r=0;r<e.length;r++)this.addOperation("Custom",e[r],t[e[r]])}}loadInstructionSet(t){let e=new t(this);e.initializeNamespace(),e.initializeInstructions(),e.initializeOperations()}loadDefaultInstructionSets(){this.loadInstructionSet(t("./InstructionSets/Math-Javascript.js")),this.loadInstructionSet(t("./InstructionSets/PreciseMath-Decimal.js")),this.loadInstructionSet(t("./InstructionSets/Geometry.js")),this.loadInstructionSet(t("./InstructionSets/Logic.js")),this.loadInstructionSet(t("./InstructionSets/String.js"))}operationExists(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;let r=t.toLowerCase();return this.operationSets.hasOwnProperty(r)&&this.operationSets[r].hasOwnProperty(e.toLowerCase())}addOperation(t,e,r){if("string"!=typeof t)return this.logError("Attempted to add an operation at runtime via Elucidator.addOperation with an invalid namespace; expected a string but the type was "+typeof t,r),!1;let s=new a(this);return s.initializeNamespace(t),s.addOperation(e,r)}solveInternalOperation(t,e,r,s,n,i,a,o){if(!this.operationExists(t,e))return this.logError(`Attempted to solveInternalOperation for namespace ${t} operationHash ${e} but the operation was not found.`),!1;let u=this.operationSets[t.toLowerCase()][e.toLowerCase()];return this.solveOperation(u,r,s,n,i,a,o)}solveOperation(t,e,r,s,a,o,u){let p=JSON.parse(JSON.stringify(t));if("object"!=typeof e)return this.logError(`Attempted to run a solve but the passed in Input was not an object.  The type was ${typeof e}.`),!1;let l=e,c=l,h=u;void 0===h&&(h={SolutionGUID:"Solution-"+this.UUID++,SolutionBaseNamespace:t.Description.Namespace,SolutionBaseOperation:t.Description.Operation,SolutionLog:[]},p.hasOwnProperty("Inputs")||(p.Inputs={}),p.hasOwnProperty("Outputs")||(p.Outputs={}),p.hasOwnProperty("InputHashTranslationTable")?h.InputHashMapping=JSON.parse(JSON.stringify(p.InputHashTranslationTable)):h.InputHashMapping={},p.hasOwnProperty("OutputHashTranslationTable")&&(h.OutputHashMapping=JSON.parse(JSON.stringify(p.OutputHashTranslationTable))),"object"!=typeof r&&"undefined"==typeof tmpOutputHashMapping&&"undefined"!=typeof tmpInputHashMapping&&(h.OutputHashMapping=h.InputHashMapping)),"object"==typeof r&&(c=r);let d=!1;if(void 0===s){d=new n;d.schemaManipulations.mergeAddressMappings(p.Inputs,p.Outputs)}else d=s.clone();a&&d.schemaManipulations.resolveAddressMappings(p.Inputs,a),o&&d.schemaManipulations.resolveAddressMappings(p.Inputs,o),h.InputHashMapping&&d.hashTranslations.addTranslation(h.InputHashMapping),h.OutputHashMapping&&d.hashTranslations.addTranslation(h.OutputHashMapping),p.UUID=this.UUID++,p.SolutionContext=h,p.Description.Synopsys&&h.SolutionLog.push(`[${p.UUID}]: Solver running operation ${p.Description.Synopsys}`);let f=new i;if(f.addPattern("{{Name:","}}",(t=>{let e=t.trim(),r=d.getDescriptorByHash(e);return"object"==typeof r&&r.hasOwnProperty("Name")?r.Name:e})),f.addPattern("{{InputValue:","}}",(t=>{let e=t.trim();return d.getValueByHash(l,e)})),f.addPattern("{{OutputValue:","}}",(t=>{let e=t.trim();return d.getValueByHash(c,e)})),p.hasOwnProperty("Log")&&p.Log.hasOwnProperty("PreOperation"))if("string"==typeof p.Log.PreOperation)p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PreOperation));else if(Array.isArray(p.Log.PreOperation))for(let t=0;t<p.Log.PreOperation.length;t++)"string"==typeof p.Log.PreOperation[t]&&p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PreOperation[t]));for(let t=0;t<p.Steps.length;t++){let e=p.Steps[t];if(e.hasOwnProperty("Instruction")){let r={Scope:"InputObject",Descriptors:JSON.parse(JSON.stringify(p.Inputs))};d.schemaManipulations.resolveAddressMappings(r.Descriptors,e.InputHashAddressMap);let s=new n(r);h.InputHashMapping&&s.hashTranslations.addTranslation(h.InputHashMapping);let i={Scope:"OutputObject",Descriptors:JSON.parse(JSON.stringify(p.Outputs))};d.schemaManipulations.resolveAddressMappings(i.Descriptors,e.OutputHashAddressMap);let a=new n(i);h.OutputHashMapping&&a.hashTranslations.addTranslation(h.OutputHashMapping);let o={Elucidator:this,Namespace:e.Namespace.toLowerCase(),Instruction:e.Instruction.toLowerCase(),Operation:p,SolutionContext:h,DescriptionManyfest:d,InputObject:l,InputManyfest:s,OutputObject:c,OutputManyfest:a};if(o.logError=r=>{h.SolutionLog.push(`[ERROR][Operation ${o.Operation.Description.Namespace}:${o.Operation.Description.Hash} - Step #${t}:${e.Namespace}:${e.Instruction}] ${r}`)},o.logInfo=r=>{h.SolutionLog.push(`[INFO][Operation ${o.Operation.Description.Namespace}:${o.Operation.Description.Hash} - Step #${t}:${e.Namespace}:${e.Instruction}] ${r}`)},this.instructionSets[o.Namespace].hasOwnProperty(o.Instruction)){(0,this.instructionSets[o.Namespace][o.Instruction])(o)}}e.hasOwnProperty("Operation")&&("string"==typeof e.Operation?this.solveInternalOperation(e.Namespace,e.Operation,l,c,d,e.InputHashAddressMap,e.OutputHashAddressMap,h):"object"==typeof e.Operation&&this.solveOperation(e.Operation,l,c,d,e.InputHashAddressMap,e.OutputHashAddressMap,h))}if(p.hasOwnProperty("Log")&&p.Log.hasOwnProperty("PostOperation"))if("string"==typeof p.Log.PostOperation)p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PostOperation));else if(Array.isArray(p.Log.PreOperation))for(let t=0;t<p.Log.PostOperation.length;t++)"string"==typeof p.Log.PostOperation[t]&&p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PostOperation[t]));return h}}},{"./Elucidator-InstructionSet.js":2,"./Elucidator-LogToConsole.js":3,"./InstructionSets/Geometry.js":4,"./InstructionSets/Logic.js":5,"./InstructionSets/Math-Javascript.js":6,"./InstructionSets/PreciseMath-Decimal.js":23,"./InstructionSets/String.js":24,manyfest:31,precedent:32}],26:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s,this.translationTable={}}translationCount(){return Object.keys(this.translationTable).length}addTranslation(t){if("object"!=typeof t)return this.logError("Hash translation addTranslation expected a translation be type object but was passed in "+typeof t),!1;Object.keys(t).forEach((e=>{"string"!=typeof t[e]?this.logError(`Hash translation addTranslation expected a translation destination hash for [${e}] to be a string but the referrant was a ${typeof t[e]}`):this.translationTable[e]=t[e]}))}removeTranslationHash(t){this.translationTable.hasOwnProperty(t)&&delete this.translationTable[t]}removeTranslation(t){if("string"==typeof t)return this.removeTranslationHash(t),!0;if("object"==typeof t){return Object.keys(t).forEach((t=>{this.removeTranslation(t)})),!0}return this.logError("Hash translation removeTranslation expected either a string or an object but the passed-in translation was type "+typeof t),!1}clearTranslations(){this.translationTable={}}translate(t){return this.translationTable.hasOwnProperty(t)?this.translationTable[t]:t}}},{"./Manyfest-LogToConsole.js":27}],27:[function(t,e,r){e.exports=(t,e)=>{let r="string"==typeof t?t:"";console.log(`[Manyfest] ${r}`),e&&console.log(JSON.stringify(e))}},{}],28:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s}generateAddressses(t,e,r){let s="string"==typeof e?e:"",n="object"==typeof r?r:{},i={Address:s,Hash:s,Name:s,InSchema:!1};switch(typeof t){case"string":i.DataType="String",i.Default=t,n[s]=i;break;case"number":case"bigint":i.DataType="Number",i.Default=t,n[s]=i;break;case"undefined":i.DataType="Any",i.Default=t,n[s]=i;break;case"object":if(Array.isArray(t)){i.DataType="Array",""!=s&&(n[s]=i);for(let e=0;e<t.length;e++)this.generateAddressses(t[e],`${s}[${e}]`,n)}else{i.DataType="Object",""!=s&&(n[s]=i,s+=".");let e=Object.keys(t);for(let r=0;r<e.length;r++)this.generateAddressses(t[e[r]],`${s}${e[r]}`,n)}}return n}}},{"./Manyfest-LogToConsole.js":27}],29:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s}cleanWrapCharacters(t,e){return e.startsWith(t)&&e.endsWith(t)?e.substring(1,e.length-1):e}checkAddressExists(t,e){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let r=e.indexOf(".");if(-1==r){let r=e.indexOf("["),s=e.indexOf("]");if(r>0&&s>r&&s-r>1){let n=e.substring(0,r).trim();if("object"!=typeof t[n])return!1;let i=e.substring(r+1,s).trim(),a=parseInt(i,10);return Array.isArray(t[n])!=isNaN(a)&&(isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[n].hasOwnProperty(i)):a in t[n])}return t.hasOwnProperty(e)}{let s=e.substring(0,r),n=e.substring(r+1),i=s.indexOf("["),a=s.indexOf("]");if(i>0&&a>i&&a-i>1){let e=s.substring(0,i).trim(),r=s.substring(i+1,a).trim(),o=parseInt(r,10);return Array.isArray(t[e])!=isNaN(o)&&(isNaN(o)?(r=this.cleanWrapCharacters('"',r),r=this.cleanWrapCharacters("`",r),r=this.cleanWrapCharacters("'",r),this.checkAddressExists(t[e][r],n)):this.checkAddressExists(t[e][o],n))}return(!t.hasOwnProperty(s)||"object"==typeof t[s])&&(t.hasOwnProperty(s)||(t[s]={}),this.checkAddressExists(t[s],n))}}getValueAtAddress(t,e,r){if("object"!=typeof t)return;if("string"!=typeof e)return;let s="";"string"==typeof r&&(s=r);let n=e.indexOf(".");if(-1==n){let r=e.indexOf("["),s=e.indexOf("]"),n=e.indexOf("{}");if(r>0&&s>r&&s-r>1){let n=e.substring(0,r).trim();if("object"!=typeof t[n])return;let i=e.substring(r+1,s).trim(),a=parseInt(i,10);if(Array.isArray(t[n])==isNaN(a))return;return isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[n][i]):t[n][a]}if(r>0&&s>r&&s-r==1){let s=e.substring(0,r).trim();return!!Array.isArray(t[s])&&t[s]}if(n>0){let r=e.substring(0,n).trim();return"object"==typeof t[r]&&t[r]}return t[e]}{let r=e.substring(0,n),i=e.substring(n+1),a=r.indexOf("["),o=r.indexOf("]");if(a>0&&o>a&&o-a>1){let e=r.substring(0,a).trim(),n=r.substring(a+1,o).trim(),u=parseInt(n,10);if(Array.isArray(t[e])==isNaN(u))return;return isNaN(u)?(n=this.cleanWrapCharacters('"',n),n=this.cleanWrapCharacters("`",n),n=this.cleanWrapCharacters("'",n),s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[e][n],i,s)):(s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[e][u],i,s))}if(a>0&&o>a&&o-a==1){let r=e.substring(0,a).trim();if(!Array.isArray(t[r]))return!1;let n=t[r];s=`${s}${s.length>0?".":""}${r}`;let o={};for(let e=0;e<n.length;e++){let n=`${s}[${e}]`,a=this.getValueAtAddress(t[r][e],i,n);o[`${n}.${i}`]=a}return o}let u=e.indexOf("{}");if(u>0){let r=e.substring(0,u).trim();if("object"!=typeof t[r])return!1;let n=t[r],a=Object.keys(n);s=`${s}${s.length>0?".":""}${r}`;let o={};for(let e=0;e<a.length;e++){let n=`${s}.${a[e]}`,u=this.getValueAtAddress(t[r][a[e]],i,n);o[`${n}.${i}`]=u}return o}return t.hasOwnProperty(r)&&"object"!=typeof t[r]?void 0:t.hasOwnProperty(r)?(s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[r],i,s)):(s=`${s}${s.length>0?".":""}${r}`,t[r]={},this.getValueAtAddress(t[r],i,s))}}setValueAtAddress(t,e,r){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let s=e.indexOf(".");if(-1==s){let s=e.indexOf("["),n=e.indexOf("]");if(s>0&&n>s&&n-s>1){let i=e.substring(0,s).trim();if("object"!=typeof t[i])return!1;let a=e.substring(s+1,n).trim(),o=parseInt(a,10);return Array.isArray(t[i])!=isNaN(o)&&(isNaN(o)?(a=this.cleanWrapCharacters('"',a),a=this.cleanWrapCharacters("`",a),a=this.cleanWrapCharacters("'",a),t[i][a]=r,!0):(t[i][o]=r,!0))}return t[e]=r,!0}{let n=e.substring(0,s),i=e.substring(s+1),a=n.indexOf("["),o=n.indexOf("]");if(a>0&&o>a&&o-a>1){let e=n.substring(0,a).trim(),s=n.substring(a+1,o).trim(),u=parseInt(s,10);return Array.isArray(t[e])!=isNaN(u)&&(isNaN(u)?(s=this.cleanWrapCharacters('"',s),s=this.cleanWrapCharacters("`",s),s=this.cleanWrapCharacters("'",s),this.setValueAtAddress(t[e][s],i,r)):this.setValueAtAddress(t[e][u],i,r))}return t.hasOwnProperty(n)&&"object"!=typeof t[n]?(t.hasOwnProperty("__ERROR")||(t.__ERROR={}),t.__ERROR[e]=r,!1):(t.hasOwnProperty(n)||(t[n]={}),this.setValueAtAddress(t[n],i,r))}}}},{"./Manyfest-LogToConsole.js":27}],30:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s}resolveAddressMappings(t,e){if("object"!=typeof t)return this.logError("Attempted to resolve address mapping but the descriptor was not an object."),!1;if("object"!=typeof e)return!0;let r=Object.keys(t),s={};return r.forEach((e=>{t[e].hasOwnProperty("Hash")&&(s[t[e].Hash]=e)})),Object.keys(e).forEach((r=>{let n=e[r],i=!1,a=!1;t.hasOwnProperty(r)?i=r:s.hasOwnProperty(r)&&(i=s[r]),i?(a=t[i],delete t[i]):a={Hash:r},t[n]=a})),!0}safeResolveAddressMappings(t,e){let r=JSON.parse(JSON.stringify(t));return this.resolveAddressMappings(r,e),r}mergeAddressMappings(t,e){if("object"!=typeof e||"object"!=typeof t)return this.logError("Attempted to merge two schema descriptors but both were not objects."),!1;let r=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(t));return Object.keys(r).forEach((t=>{s.hasOwnProperty(t)||(s[t]=r[t])})),s}}},{"./Manyfest-LogToConsole.js":27}],31:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js"),n=t("./Manyfest-HashTranslation.js"),i=t("./Manyfest-ObjectAddressResolver.js"),a=t("./Manyfest-ObjectAddressGeneration.js"),o=t("./Manyfest-SchemaManipulation.js");class u{constructor(t,e,r,u){this.logInfo="function"==typeof e?e:s,this.logError="function"==typeof r?r:s,this.objectAddressResolver=new i(this.logInfo,this.logError),this.options={strict:!1,defaultValues:{String:"",Number:0,Float:0,Integer:0,Boolean:!1,Binary:0,DateTime:0,Array:[],Object:{},Null:null}},this.scope=void 0,this.elementAddresses=void 0,this.elementHashes=void 0,this.elementDescriptors=void 0,this.reset(),"object"==typeof t&&this.loadManifest(t),this.schemaManipulations=new o(this.logInfo,this.logError),this.objectAddressGeneration=new a(this.logInfo,this.logError),this.hashTranslations=new n(this.logInfo,this.logError)}reset(){this.scope="DEFAULT",this.elementAddresses=[],this.elementHashes={},this.elementDescriptors={}}clone(){let t=JSON.parse(JSON.stringify(this.options)),e=new u(this.getManifest(),this.logInfo,this.logError,t);return e.hashTranslations.addTranslation(this.hashTranslations.translationTable),e}deserialize(t){return this.loadManifest(JSON.parse(t))}loadManifest(t){if("object"!=typeof t)return this.logError(`(${this.scope}) Error loading manifest; expecting an object but parameter was type ${typeof t}.`),!1;if(t.hasOwnProperty("Scope")?"string"==typeof t.Scope?this.scope=t.Scope:this.logError(`(${this.scope}) Error loading scope from manifest; expecting a string but property was type ${typeof t.Scope}.`,t):this.logError(`(${this.scope}) Error loading scope from manifest object.  Property "Scope" does not exist in the root of the object.`,t),t.hasOwnProperty("Descriptors"))if("object"==typeof t.Descriptors){let e=Object.keys(t.Descriptors);for(let r=0;r<e.length;r++)this.addDescriptor(e[r],t.Descriptors[e[r]])}else this.logError(`(${this.scope}) Error loading description object from manifest object.  Expecting an object in 'Manifest.Descriptors' but the property was type ${typeof t.Descriptors}.`,t);else this.logError(`(${this.scope}) Error loading object description from manifest object.  Property "Descriptors" does not exist in the root of the Manifest object.`,t)}serialize(){return JSON.stringify(this.getManifest())}getManifest(){return{Scope:this.scope,Descriptors:JSON.parse(JSON.stringify(this.elementDescriptors))}}addDescriptor(t,e){return"object"==typeof e?(e.hasOwnProperty("Address")||(e.Address=t),this.elementDescriptors.hasOwnProperty(t)||this.elementAddresses.push(t),this.elementDescriptors[t]=e,this.elementHashes[t]=t,e.hasOwnProperty("Hash")?this.elementHashes[e.Hash]=t:e.Hash=t,!0):(this.logError(`(${this.scope}) Error loading object descriptor for address '${t}' from manifest object.  Expecting an object but property was type ${typeof e}.`),!1)}getDescriptorByHash(t){return this.getDescriptor(this.resolveHashAddress(t))}getDescriptor(t){return this.elementDescriptors[t]}checkAddressExistsByHash(t,e){return this.checkAddressExists(t,this.resolveHashAddress(e))}checkAddressExists(t,e){return this.objectAddressResolver.checkAddressExists(t,e)}resolveHashAddress(t){let e,r=this.elementHashes.hasOwnProperty(t),s=this.hashTranslations.translationTable.hasOwnProperty(t);return e=r&&!s?this.elementHashes[t]:s&&this.elementHashes.hasOwnProperty(this.hashTranslations.translate(t))?this.elementHashes[this.hashTranslations.translate(t)]:s?this.hashTranslations.translate(t):t,e}getValueByHash(t,e){let r=this.getValueAtAddress(t,this.resolveHashAddress(e));return void 0===r&&(r=this.getDefaultValue(this.getDescriptorByHash(e))),r}getValueAtAddress(t,e){let r=this.objectAddressResolver.getValueAtAddress(t,e);return void 0===r&&(r=this.getDefaultValue(this.getDescriptor(e))),r}setValueByHash(t,e,r){return this.setValueAtAddress(t,this.resolveHashAddress(e),r)}setValueAtAddress(t,e,r){return this.objectAddressResolver.setValueAtAddress(t,e,r)}validate(t){let e={Error:null,Errors:[],MissingElements:[]};"object"!=typeof t&&(e.Error=!0,e.Errors.push("Expected passed in object to be type object but was passed in "+typeof t));let r=(t,r)=>{e.Error=!0,e.Errors.push(`Element at address "${t}" ${r}.`)};for(let s=0;s<this.elementAddresses.length;s++){let n=this.getDescriptor(this.elementAddresses[s]),i=this.checkAddressExists(t,n.Address),a=this.getValueAtAddress(t,n.Address);if(void 0!==a&&i||(e.MissingElements.push(n.Address),(n.Required||this.options.strict)&&r(n.Address,"is flagged REQUIRED but is not set in the object")),n.DataType){let t=typeof a;switch(n.DataType.toString().trim().toLowerCase()){case"string":"string"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"number":"number"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"integer":if("number"!=t)r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);else{a.toString().indexOf(".")>-1&&r(n.Address,`has a DataType ${n.DataType} but has a decimal point in the number.`)}break;case"float":"number"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"DateTime":"Invalid Date"==new Date(a).toString()&&r(n.Address,`has a DataType ${n.DataType} but is not parsable as a Date by Javascript`);default:"string"!=t&&r(n.Address,`has a DataType ${n.DataType} (which auto-converted to String because it was unrecognized) but is of the type ${t}`)}}}return e}getDefaultValue(t){if("object"==typeof t){if(t.hasOwnProperty("Default"))return t.Default;{let e=t.hasOwnProperty("DataType")?t.DataType:"String";return this.options.defaultValues.hasOwnProperty(e)?this.options.defaultValues[e]:null}}}populateDefaults(t,e){return this.populateObject(t,e,(t=>t.hasOwnProperty("Default")))}populateObject(t,e,r){let s="object"==typeof t?t:{},n=void 0!==e&&e,i="function"==typeof r?r:t=>!0;return this.elementAddresses.forEach((t=>{let e=this.getDescriptor(t);i(e)&&(!n&&this.checkAddressExists(s,t)||this.setValueAtAddress(s,t,this.getDefaultValue(e)))})),s}}e.exports=u},{"./Manyfest-HashTranslation.js":26,"./Manyfest-LogToConsole.js":27,"./Manyfest-ObjectAddressGeneration.js":28,"./Manyfest-ObjectAddressResolver.js":29,"./Manyfest-SchemaManipulation.js":30}],32:[function(t,e,r){
/**
* Precedent Meta-Templating
*
* @license     MIT
*
* @author      Steven Velozo <steven@velozo.com>
*
* @description Process text streams, parsing out meta-template expressions.
*/
var s=t("./WordTree.js"),n=t("./StringParser.js");e.exports=class{constructor(){this.WordTree=new s,this.StringParser=new n,this.ParseTree=this.WordTree.ParseTree}addPattern(t,e,r){return this.WordTree.addPattern(t,e,r)}parseString(t){return this.StringParser.parseString(t,this.ParseTree)}}},{"./StringParser.js":33,"./WordTree.js":34}],33:[function(t,e,r){e.exports=
/**
* String Parser
*
* @license     MIT
*
* @author      Steven Velozo <steven@velozo.com>
*
* @description Parse a string, properly processing each matched token in the word tree.
*/
class{constructor(){}newParserState(t){return{ParseTree:t,Output:"",OutputBuffer:"",Pattern:!1,PatternMatch:!1,PatternMatchOutputBuffer:""}}assignNode(t,e){e.PatternMatch=t,e.PatternMatch.hasOwnProperty("PatternEnd")&&(e.Pattern=e.PatternMatch)}appendOutputBuffer(t,e){e.OutputBuffer+=t}flushOutputBuffer(t){t.Output+=t.OutputBuffer,t.OutputBuffer=""}checkPatternEnd(t){t.OutputBuffer.length>=t.Pattern.PatternEnd.length+t.Pattern.PatternStart.length&&t.OutputBuffer.substr(-t.Pattern.PatternEnd.length)===t.Pattern.PatternEnd&&(t.OutputBuffer=t.Pattern.Parse(t.OutputBuffer.substr(t.Pattern.PatternStart.length,t.OutputBuffer.length-(t.Pattern.PatternStart.length+t.Pattern.PatternEnd.length))),this.flushOutputBuffer(t),t.Pattern=!1,t.PatternMatch=!1)}parseCharacter(t,e){!e.PatternMatch&&e.ParseTree.hasOwnProperty(t)?(this.assignNode(e.ParseTree[t],e),this.appendOutputBuffer(t,e)):e.PatternMatch?(e.PatternMatch.hasOwnProperty(t)&&this.assignNode(e.PatternMatch[t],e),this.appendOutputBuffer(t,e),e.Pattern&&this.checkPatternEnd(e)):e.Output+=t}parseString(t,e){let r=this.newParserState(e);for(var s=0;s<t.length;s++)this.parseCharacter(t[s],r);return this.flushOutputBuffer(r),r.Output}}},{}],34:[function(t,e,r){e.exports=
/**
* Word Tree
*
* @license     MIT
*
* @author      Steven Velozo <steven@velozo.com>
*
* @description Create a tree (directed graph) of Javascript objects, one character per object.
*/
class{constructor(){this.ParseTree={}}addChild(t,e,r){return r>e.length?t:(t.hasOwnProperty(e[r])||(t[e[r]]={}),t[e[r]])}addPattern(t,e,r){if(t.length<1)return!1;let s=this.ParseTree;for(var n=0;n<t.length;n++)s=this.addChild(s,t,n);return s.PatternStart=t,s.PatternEnd="string"==typeof e&&e.length>0?e:t,s.Parse="function"==typeof r?r:"string"==typeof r?()=>r:t=>t,!0}}},{}],35:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
var s=t("./Manyfest.js");"object"==typeof window&&(window.Manyfest=s),e.exports=s},{"./Manyfest.js":45}],36:[function(t,e,r){e.exports=(t,e)=>e.startsWith(t)&&e.endsWith(t)?e.substring(1,e.length-1):e},{}],37:[function(t,e,r){arguments[4][26][0].apply(r,arguments)},{"./Manyfest-LogToConsole.js":38,dup:26}],38:[function(t,e,r){arguments[4][27][0].apply(r,arguments)},{dup:27}],39:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s,this.elucidatorSolver=!1,this.elucidatorSolverState={}}checkAddressExists(t,e){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let r=e.indexOf(".");if(-1==r){let r=e.indexOf("["),s=e.indexOf("]");if(r>0&&s>r&&s-r>1){let n=e.substring(0,r).trim();if("object"!=typeof t[n])return!1;let i=e.substring(r+1,s).trim(),a=parseInt(i,10);return Array.isArray(t[n])!=isNaN(a)&&(isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[n].hasOwnProperty(i)):a in t[n])}return t.hasOwnProperty(e)}{let s=e.substring(0,r),n=e.substring(r+1),i=s.indexOf("["),a=s.indexOf("]");if(i>0&&a>i&&a-i>1){let e=s.substring(0,i).trim(),r=s.substring(i+1,a).trim(),o=parseInt(r,10);return Array.isArray(t[e])!=isNaN(o)&&(isNaN(o)?(r=this.cleanWrapCharacters('"',r),r=this.cleanWrapCharacters("`",r),r=this.cleanWrapCharacters("'",r),this.checkAddressExists(t[e][r],n)):this.checkAddressExists(t[e][o],n))}return(!t.hasOwnProperty(s)||"object"==typeof t[s])&&(t.hasOwnProperty(s)||(t[s]={}),this.checkAddressExists(t[s],n))}}}},{"./Manyfest-LogToConsole.js":38}],40:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js"),n=t("precedent"),i=t("./Manyfest-CleanWrapCharacters.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=i}checkFilters(e,r){let s=new n,i=e;if(!this.elucidatorSolver){let e=t("elucidator");this.elucidatorSolver=new e({},this.logInfo,this.logError)}if(this.elucidatorSolver){let t={Record:r,keepRecord:!0};return s.addPattern("<<~~","~~>>",(e=>{this.elucidatorSolverState.hasOwnProperty(e)&&(t.SolutionState=this.elucidatorSolverState[e]),this.elucidatorSolver.solveInternalOperation("Custom",e,t)})),s.addPattern("<<~?","?~>>",(e=>{if("string"!=typeof e)return!1;let r=e.split(","),s=r[0],n=r[1],i=r[2];t.ComparisonState={SearchAddress:s,Comparator:n,SearchTerm:i},this.elucidatorSolver.solveOperation({Description:{Operation:"Simple_If",Synopsis:"Test for "},Steps:[{Namespace:"Logic",Instruction:"if",InputHashAddressMap:{leftValue:`Record.${s}`,rightValue:"ComparisonState.SearchTerm",comparator:"ComparisonState.Comparator"},OutputHashAddressMap:{truthinessResult:"keepRecord"}}]},t)})),s.parseString(i),t.keepRecord}return!0}deleteValueAtAddress(t,e,r){if("object"!=typeof t)return;if("string"!=typeof e)return;let s="";"string"==typeof r&&(s=r);let n=e.indexOf(".");if(-1==n){let r=e.indexOf("["),s=e.indexOf("]"),n=e.indexOf("{}");if(r>0&&s>r&&s-r>1){let n=e.substring(0,r).trim();if("object"!=typeof t[n])return!1;let i=e.substring(r+1,s).trim(),a=parseInt(i,10);return Array.isArray(t[n])!=isNaN(a)&&(isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),delete t[n][i],!0):(delete t[n][a],!0))}if(r>0&&s>r&&s-r==1){let s=e.substring(0,r).trim();if(!Array.isArray(t[s]))return!1;let n=t[s];for(let t=n.length-1;t>=0;t--){this.checkFilters(e,n[t])&&n.splice(t,1)}return!0}if(n>0){let r=e.substring(0,n).trim();return"object"==typeof t[r]&&(delete t[r],!0)}return delete t[e],!0}{let r=e.substring(0,n),i=e.substring(n+1),a=r.indexOf("["),o=r.indexOf("]");if(a>0&&o>a&&o-a>1){let e=r.substring(0,a).trim(),n=r.substring(a+1,o).trim(),u=parseInt(n,10);return Array.isArray(t[e])!=isNaN(u)&&("object"==typeof t[e]&&(isNaN(u)?(n=this.cleanWrapCharacters('"',n),n=this.cleanWrapCharacters("`",n),n=this.cleanWrapCharacters("'",n),s=`${s}${s.length>0?".":""}${r}`,this.deleteValueAtAddress(t[e][n],i,s)):(s=`${s}${s.length>0?".":""}${r}`,this.deleteValueAtAddress(t[e][u],i,s))))}if(a>0&&o>a&&o-a==1){let r=e.substring(0,a).trim();if(!Array.isArray(t[r]))return!1;let n=t[r];s=`${s}${s.length>0?".":""}${r}`;let o={};for(let e=0;e<n.length;e++){let n=`${s}[${e}]`,a=this.deleteValueAtAddress(t[r][e],i,n);o[`${n}.${i}`]=a}return o}let u=e.indexOf("{}");if(u>0){let r=e.substring(0,u).trim();if("object"!=typeof t[r])return!1;let n=t[r],a=Object.keys(n);s=`${s}${s.length>0?".":""}${r}`;let o={};for(let n=0;n<a.length;n++){let u=`${s}.${a[n]}`,p=this.deleteValueAtAddress(t[r][a[n]],i,u);this.checkFilters(e,p)&&(o[`${u}.${i}`]=p)}return o}return t.hasOwnProperty(r)&&"object"!=typeof t[r]?void 0:t.hasOwnProperty(r)?(s=`${s}${s.length>0?".":""}${r}`,this.deleteValueAtAddress(t[r],i,s)):(s=`${s}${s.length>0?".":""}${r}`,t[r]={},this.deleteValueAtAddress(t[r],i,s))}}}},{"./Manyfest-CleanWrapCharacters.js":36,"./Manyfest-LogToConsole.js":38,elucidator:25,precedent:32}],41:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js"),n=t("precedent"),i=t("./Manyfest-CleanWrapCharacters.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=i}checkFilters(e,r){let s=new n,i=e;if(!this.elucidatorSolver){let e=t("elucidator");this.elucidatorSolver=new e({},this.logInfo,this.logError)}if(this.elucidatorSolver){let t={Record:r,keepRecord:!0};return s.addPattern("<<~~","~~>>",(e=>{this.elucidatorSolverState.hasOwnProperty(e)&&(t.SolutionState=this.elucidatorSolverState[e]),this.elucidatorSolver.solveInternalOperation("Custom",e,t)})),s.addPattern("<<~?","?~>>",(e=>{if("string"!=typeof e)return!1;let r=e.split(","),s=r[0],n=r[1],i=r[2];t.ComparisonState={SearchAddress:s,Comparator:n,SearchTerm:i},this.elucidatorSolver.solveOperation({Description:{Operation:"Simple_If",Synopsis:"Test for "},Steps:[{Namespace:"Logic",Instruction:"if",InputHashAddressMap:{leftValue:`Record.${s}`,rightValue:"ComparisonState.SearchTerm",comparator:"ComparisonState.Comparator"},OutputHashAddressMap:{truthinessResult:"keepRecord"}}]},t)})),s.parseString(i),t.keepRecord}return!0}getValueAtAddress(t,e,r){if("object"!=typeof t)return;if("string"!=typeof e)return;let s="";"string"==typeof r&&(s=r);let n=e.indexOf(".");if(-1==n){let r=e.indexOf("["),s=e.indexOf("]"),n=e.indexOf("{}");if(r>0&&s>r&&s-r>1){let n=e.substring(0,r).trim();if("object"!=typeof t[n])return;let i=e.substring(r+1,s).trim(),a=parseInt(i,10);if(Array.isArray(t[n])==isNaN(a))return;return isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[n][i]):t[n][a]}if(r>0&&s>r&&s-r==1){let s=e.substring(0,r).trim();if(!Array.isArray(t[s]))return!1;let n=t[s],i=[];for(let t=0;t<n.length;t++){this.checkFilters(e,n[t])&&i.push(n[t])}return i}if(n>0){let r=e.substring(0,n).trim();return"object"==typeof t[r]&&t[r]}return t[e]}{let r=e.substring(0,n),i=e.substring(n+1),a=r.indexOf("["),o=r.indexOf("]");if(a>0&&o>a&&o-a>1){let e=r.substring(0,a).trim(),n=r.substring(a+1,o).trim(),u=parseInt(n,10);if(Array.isArray(t[e])==isNaN(u))return;if("object"!=typeof t[e])return;return isNaN(u)?(n=this.cleanWrapCharacters('"',n),n=this.cleanWrapCharacters("`",n),n=this.cleanWrapCharacters("'",n),s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[e][n],i,s)):(s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[e][u],i,s))}if(a>0&&o>a&&o-a==1){let r=e.substring(0,a).trim();if(!Array.isArray(t[r]))return!1;let n=t[r];s=`${s}${s.length>0?".":""}${r}`;let o={};for(let e=0;e<n.length;e++){let n=`${s}[${e}]`,a=this.getValueAtAddress(t[r][e],i,n);o[`${n}.${i}`]=a}return o}let u=e.indexOf("{}");if(u>0){let r=e.substring(0,u).trim();if("object"!=typeof t[r])return!1;let n=t[r],a=Object.keys(n);s=`${s}${s.length>0?".":""}${r}`;let o={};for(let n=0;n<a.length;n++){let u=`${s}.${a[n]}`,p=this.getValueAtAddress(t[r][a[n]],i,u);this.checkFilters(e,p)&&(o[`${u}.${i}`]=p)}return o}return t.hasOwnProperty(r)&&"object"!=typeof t[r]?void 0:t.hasOwnProperty(r)?(s=`${s}${s.length>0?".":""}${r}`,this.getValueAtAddress(t[r],i,s)):(s=`${s}${s.length>0?".":""}${r}`,t[r]={},this.getValueAtAddress(t[r],i,s))}}}},{"./Manyfest-CleanWrapCharacters.js":36,"./Manyfest-LogToConsole.js":38,elucidator:25,precedent:32}],42:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js"),n=(t("precedent"),t("./Manyfest-CleanWrapCharacters.js"));e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=n}setValueAtAddress(t,e,r){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let s=e.indexOf(".");if(-1==s){let s=e.indexOf("["),n=e.indexOf("]");if(s>0&&n>s&&n-s>1){let i=e.substring(0,s).trim();if("object"!=typeof t[i])return!1;let a=e.substring(s+1,n).trim(),o=parseInt(a,10);return Array.isArray(t[i])!=isNaN(o)&&(isNaN(o)?(a=this.cleanWrapCharacters('"',a),a=this.cleanWrapCharacters("`",a),a=this.cleanWrapCharacters("'",a),t[i][a]=r,!0):(t[i][o]=r,!0))}return t[e]=r,!0}{let n=e.substring(0,s),i=e.substring(s+1),a=n.indexOf("["),o=n.indexOf("]");if(a>0&&o>a&&o-a>1){let e=n.substring(0,a).trim(),s=n.substring(a+1,o).trim(),u=parseInt(s,10);return Array.isArray(t[e])!=isNaN(u)&&(isNaN(u)?(s=this.cleanWrapCharacters('"',s),s=this.cleanWrapCharacters("`",s),s=this.cleanWrapCharacters("'",s),this.setValueAtAddress(t[e][s],i,r)):this.setValueAtAddress(t[e][u],i,r))}return t.hasOwnProperty(n)&&"object"!=typeof t[n]?(t.hasOwnProperty("__ERROR")||(t.__ERROR={}),t.__ERROR[e]=r,!1):(t.hasOwnProperty(n)||(t[n]={}),this.setValueAtAddress(t[n],i,r))}}}},{"./Manyfest-CleanWrapCharacters.js":36,"./Manyfest-LogToConsole.js":38,precedent:32}],43:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s}generateAddressses(t,e,r){let s="string"==typeof e?e:"",n="object"==typeof r?r:{},i=typeof t,a={Address:s,Hash:s,Name:s,InSchema:!1};switch("object"==i&&null==t&&(i="null"),i){case"string":a.DataType="String",a.Default=t,n[s]=a;break;case"number":case"bigint":a.DataType="Number",a.Default=t,n[s]=a;break;case"undefined":case"null":a.DataType="Any",a.Default=t,n[s]=a;break;case"object":if(Array.isArray(t)){a.DataType="Array",""!=s&&(n[s]=a);for(let e=0;e<t.length;e++)this.generateAddressses(t[e],`${s}[${e}]`,n)}else{a.DataType="Object",""!=s&&(n[s]=a,s+=".");let e=Object.keys(t);for(let r=0;r<e.length;r++)this.generateAddressses(t[e[r]],`${s}${e[r]}`,n)}}return n}}},{"./Manyfest-LogToConsole.js":38}],44:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:s,this.logError="function"==typeof e?e:s}resolveAddressMappings(t,e){if("object"!=typeof t)return this.logError("Attempted to resolve address mapping but the descriptor was not an object."),!1;if("object"!=typeof e)return!0;let r=Object.keys(t),s={};return r.forEach((e=>{t[e].hasOwnProperty("Hash")&&(s[t[e].Hash]=e)})),Object.keys(e).forEach((r=>{let n=e[r],i=!1,a=!1;t.hasOwnProperty(r)?i=r:s.hasOwnProperty(r)&&(i=s[r]),i?(a=t[i],delete t[i]):a={Hash:r},t[n]=a})),!0}safeResolveAddressMappings(t,e){let r=JSON.parse(JSON.stringify(t));return this.resolveAddressMappings(r,e),r}mergeAddressMappings(t,e){if("object"!=typeof e||"object"!=typeof t)return this.logError("Attempted to merge two schema descriptors but both were not objects."),!1;let r=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(t));return Object.keys(r).forEach((t=>{s.hasOwnProperty(t)||(s[t]=r[t])})),s}}},{"./Manyfest-LogToConsole.js":38}],45:[function(t,e,r){
/**
* @license MIT
* @author <steven@velozo.com>
*/
let s=t("./Manyfest-LogToConsole.js"),n=(t("precedent"),t("./Manyfest-HashTranslation.js")),i=t("./Manyfest-ObjectAddress-CheckAddressExists.js"),a=t("./Manyfest-ObjectAddress-GetValue.js"),o=t("./Manyfest-ObjectAddress-SetValue.js"),u=t("./Manyfest-ObjectAddress-DeleteValue.js"),p=t("./Manyfest-ObjectAddressGeneration.js"),l=t("./Manyfest-SchemaManipulation.js");class c{constructor(t,e,r,c){this.logInfo="function"==typeof e?e:s,this.logError="function"==typeof r?r:s,this.objectAddressCheckAddressExists=new i(this.logInfo,this.logError),this.objectAddressGetValue=new a(this.logInfo,this.logError),this.objectAddressSetValue=new o(this.logInfo,this.logError),this.objectAddressDeleteValue=new u(this.logInfo,this.logError),this.options={strict:!1,defaultValues:{String:"",Number:0,Float:0,Integer:0,Boolean:!1,Binary:0,DateTime:0,Array:[],Object:{},Null:null}},this.scope=void 0,this.elementAddresses=void 0,this.elementHashes=void 0,this.elementDescriptors=void 0,this.dataSolvers=void 0,this.dataSolverState=void 0,this.reset(),"object"==typeof t&&this.loadManifest(t),this.schemaManipulations=new l(this.logInfo,this.logError),this.objectAddressGeneration=new p(this.logInfo,this.logError),this.hashTranslations=new n(this.logInfo,this.logError)}reset(){this.scope="DEFAULT",this.elementAddresses=[],this.elementHashes={},this.elementDescriptors={},this.dataSolvers=void 0,this.dataSolverState={},this.libElucidator=void 0}setElucidatorSolvers(t,e){this.objectAddressCheckAddressExists.elucidatorSolver=t,this.objectAddressGetValue.elucidatorSolver=t,this.objectAddressSetValue.elucidatorSolver=t,this.objectAddressDeleteValue.elucidatorSolver=t,this.objectAddressCheckAddressExists.elucidatorSolverState=e,this.objectAddressGetValue.elucidatorSolverState=e,this.objectAddressSetValue.elucidatorSolverState=e,this.objectAddressDeleteValue.elucidatorSolverState=e}clone(){let t=JSON.parse(JSON.stringify(this.options)),e=new c(this.getManifest(),this.logInfo,this.logError,t);return e.hashTranslations.addTranslation(this.hashTranslations.translationTable),e}deserialize(t){return this.loadManifest(JSON.parse(t))}loadManifest(e){if("object"!=typeof e)return this.logError(`(${this.scope}) Error loading manifest; expecting an object but parameter was type ${typeof e}.`),!1;if(e.hasOwnProperty("Scope")?"string"==typeof e.Scope?this.scope=e.Scope:this.logError(`(${this.scope}) Error loading scope from manifest; expecting a string but property was type ${typeof e.Scope}.`,e):this.logError(`(${this.scope}) Error loading scope from manifest object.  Property "Scope" does not exist in the root of the object.`,e),e.hasOwnProperty("Descriptors"))if("object"==typeof e.Descriptors){let t=Object.keys(e.Descriptors);for(let r=0;r<t.length;r++)this.addDescriptor(t[r],e.Descriptors[t[r]])}else this.logError(`(${this.scope}) Error loading description object from manifest object.  Expecting an object in 'Manifest.Descriptors' but the property was type ${typeof e.Descriptors}.`,e);else this.logError(`(${this.scope}) Error loading object description from manifest object.  Property "Descriptors" does not exist in the root of the Manifest object.`,e);if(e.hasOwnProperty("Solvers")&&"object"==typeof e.Solvers){let r=t("elucidator");this.dataSolvers=new r(e.Solvers,this.logInfo,this.logError);let s=Object.keys(e.Solvers);for(let t=0;t<s.length;t++)this.dataSolverState[s]=e.Solvers[s[t]];this.setElucidatorSolvers(this.dataSolvers,this.dataSolverState)}}serialize(){return JSON.stringify(this.getManifest())}getManifest(){return{Scope:this.scope,Descriptors:JSON.parse(JSON.stringify(this.elementDescriptors))}}addDescriptor(t,e){return"object"==typeof e?(e.hasOwnProperty("Address")||(e.Address=t),this.elementDescriptors.hasOwnProperty(t)||this.elementAddresses.push(t),this.elementDescriptors[t]=e,this.elementHashes[t]=t,e.hasOwnProperty("Hash")?this.elementHashes[e.Hash]=t:e.Hash=t,!0):(this.logError(`(${this.scope}) Error loading object descriptor for address '${t}' from manifest object.  Expecting an object but property was type ${typeof e}.`),!1)}getDescriptorByHash(t){return this.getDescriptor(this.resolveHashAddress(t))}getDescriptor(t){return this.elementDescriptors[t]}eachDescriptor(t){let e=Object.keys(this.elementDescriptors);for(let r=0;r<e.length;r++)t(this.elementDescriptors[e[r]])}checkAddressExistsByHash(t,e){return this.checkAddressExists(t,this.resolveHashAddress(e))}checkAddressExists(t,e){return this.objectAddressCheckAddressExists.checkAddressExists(t,e)}resolveHashAddress(t){let e,r=this.elementHashes.hasOwnProperty(t),s=this.hashTranslations.translationTable.hasOwnProperty(t);return e=r&&!s?this.elementHashes[t]:s&&this.elementHashes.hasOwnProperty(this.hashTranslations.translate(t))?this.elementHashes[this.hashTranslations.translate(t)]:s?this.hashTranslations.translate(t):t,e}getValueByHash(t,e){let r=this.getValueAtAddress(t,this.resolveHashAddress(e));return void 0===r&&(r=this.getDefaultValue(this.getDescriptorByHash(e))),r}getValueAtAddress(t,e){let r=this.objectAddressGetValue.getValueAtAddress(t,e);return void 0===r&&(r=this.getDefaultValue(this.getDescriptor(e))),r}setValueByHash(t,e,r){return this.setValueAtAddress(t,this.resolveHashAddress(e),r)}setValueAtAddress(t,e,r){return this.objectAddressSetValue.setValueAtAddress(t,e,r)}deleteValueByHash(t,e,r){return this.deleteValueAtAddress(t,this.resolveHashAddress(e),r)}deleteValueAtAddress(t,e,r){return this.objectAddressDeleteValue.deleteValueAtAddress(t,e,r)}validate(t){let e={Error:null,Errors:[],MissingElements:[]};"object"!=typeof t&&(e.Error=!0,e.Errors.push("Expected passed in object to be type object but was passed in "+typeof t));let r=(t,r)=>{e.Error=!0,e.Errors.push(`Element at address "${t}" ${r}.`)};for(let s=0;s<this.elementAddresses.length;s++){let n=this.getDescriptor(this.elementAddresses[s]),i=this.checkAddressExists(t,n.Address),a=this.getValueAtAddress(t,n.Address);if(void 0!==a&&i||(e.MissingElements.push(n.Address),(n.Required||this.options.strict)&&r(n.Address,"is flagged REQUIRED but is not set in the object")),n.DataType){let t=typeof a;switch(n.DataType.toString().trim().toLowerCase()){case"string":"string"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"number":"number"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"integer":if("number"!=t)r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);else{a.toString().indexOf(".")>-1&&r(n.Address,`has a DataType ${n.DataType} but has a decimal point in the number.`)}break;case"float":"number"!=t&&r(n.Address,`has a DataType ${n.DataType} but is of the type ${t}`);break;case"DateTime":"Invalid Date"==new Date(a).toString()&&r(n.Address,`has a DataType ${n.DataType} but is not parsable as a Date by Javascript`);default:"string"!=t&&r(n.Address,`has a DataType ${n.DataType} (which auto-converted to String because it was unrecognized) but is of the type ${t}`)}}}return e}getDefaultValue(t){if("object"==typeof t){if(t.hasOwnProperty("Default"))return t.Default;{let e=t.hasOwnProperty("DataType")?t.DataType:"String";return this.options.defaultValues.hasOwnProperty(e)?this.options.defaultValues[e]:null}}}populateDefaults(t,e){return this.populateObject(t,e,(t=>t.hasOwnProperty("Default")))}populateObject(t,e,r){let s="object"==typeof t?t:{},n=void 0!==e&&e,i="function"==typeof r?r:t=>!0;return this.elementAddresses.forEach((t=>{let e=this.getDescriptor(t);i(e)&&(!n&&this.checkAddressExists(s,t)||this.setValueAtAddress(s,t,this.getDefaultValue(e)))})),s}}e.exports=c},{"./Manyfest-HashTranslation.js":37,"./Manyfest-LogToConsole.js":38,"./Manyfest-ObjectAddress-CheckAddressExists.js":39,"./Manyfest-ObjectAddress-DeleteValue.js":40,"./Manyfest-ObjectAddress-GetValue.js":41,"./Manyfest-ObjectAddress-SetValue.js":42,"./Manyfest-ObjectAddressGeneration.js":43,"./Manyfest-SchemaManipulation.js":44,elucidator:25,precedent:32}]},{},[35])(35)}));
//# sourceMappingURL=manyfest.min.js.map
